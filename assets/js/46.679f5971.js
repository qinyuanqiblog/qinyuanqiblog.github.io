(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{444:function(t,e,a){"use strict";a.r(e);var s=a(12),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("blockquote",[e("p",[t._v("最近公司需要开辟一个新项目，之前的项目都是基于若依很老的版本来做的，并且我们在一个项目里面发现，打包速度很慢，然后升级了cli的版本之后就好了，so，就把若依升级到最新的5.0.8版本")])]),t._v(" "),e("h2",{attrs:{id:"开搞"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开搞"}},[t._v("#")]),t._v(" 开搞")]),t._v(" "),e("h3",{attrs:{id:"先从若依官网里面把最新的代码拉下来-然后升级vue-cli-和-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#先从若依官网里面把最新的代码拉下来-然后升级vue-cli-和-vue"}},[t._v("#")]),t._v(" 先从若依官网里面把最新的代码拉下来，然后升级vue cli 和 vue")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://gitee.com/y_project/RuoYi-Vue/tree/master/ruoyi-ui",target:"_blank",rel:"noopener noreferrer"}},[t._v("若依官网"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"jsx支持v-model"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jsx支持v-model"}},[t._v("#")]),t._v(" "),e("s",[e("a",{attrs:{href:"https://www.npmjs.com/package/@vue/babel-sugar-v-model",target:"_blank",rel:"noopener noreferrer"}},[t._v("jsx支持v-model"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("感觉这一步不用做，我把这个插件删除了，还是支持的，应该是cli 自带支持了")])]),t._v(" "),e("h3",{attrs:{id:"查看vue-升级指南-发现需要升级vue-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看vue-升级指南-发现需要升级vue-cli"}},[t._v("#")]),t._v(" 查看vue 升级指南，发现需要升级vue cli")]),t._v(" "),e("h3",{attrs:{id:"升级vue-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#升级vue-cli"}},[t._v("#")]),t._v(" 升级vue cli")]),t._v(" "),e("h4",{attrs:{id:"我的vue-cli-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#我的vue-cli-版本"}},[t._v("#")]),t._v(" 我的vue cli 版本")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/96026f56-46fa-4ae7-8e39-1e87ab4e7105-2331693.jpg",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"开始升级vue-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始升级vue-cli"}},[t._v("#")]),t._v(" 开始升级vue cli")]),t._v(" "),e("ul",[e("li",[t._v("当前若依的cli版本是 4.4.6")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/f28cbb88-2d0b-40c2-aab3-492ac9151029-2331693.jpg",alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("执行  vue upgrade 命令，然后确认升级")])]),t._v(" "),e("p",[t._v("升级成功，重新跑一下项目")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/e02425d5-4a8a-4a94-9d47-16ed7c0cad1c-2331693.jpg",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"报错了-好像是webpack-4-0-配置和5-0-配置不一样的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报错了-好像是webpack-4-0-配置和5-0-配置不一样的问题"}},[t._v("#")]),t._v(" 报错了，好像是webpack 4.0 配置和5.0 配置不一样的问题")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/1b1ebab5-b85a-43be-bd3b-870199459283-2331693.jpg",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"如何解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何解决"}},[t._v("#")]),t._v(" 如何解决")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/ffef769d-98f4-4cdc-946e-7efd4b721e05-2331693.jpg",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"报错信息-breaking-change-webpack-5-used-to-include-polyfills-for-node-js-core-modules-by-default"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报错信息-breaking-change-webpack-5-used-to-include-polyfills-for-node-js-core-modules-by-default"}},[t._v("#")]),t._v(" 报错信息：BREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/c26e6d25-86d6-4e07-b505-6a7459494100-2331693.jpg",alt:""}})]),t._v(" "),e("h5",{attrs:{id:"解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://blog.csdn.net/qq_54693844/article/details/127772244",target:"_blank",rel:"noopener noreferrer"}},[t._v("解决方案"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("安装 npm install node-polyfill-webpack-plugin\n然后在vue.config.json configureWebpack添加一下")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" NodePolyfillPlugin "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-polyfill-webpack-plugin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configureWebpack")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NodePolyfillPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h3",{attrs:{id:"升级vue到2-7版本-更改依赖版本-然后拉取新的依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#升级vue到2-7版本-更改依赖版本-然后拉取新的依赖"}},[t._v("#")]),t._v(" 升级vue到2.7版本，更改依赖版本，然后拉取新的依赖")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/guide/migration-vue-2-7.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue 官网2.7.0升级注意事项"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("修改package.json, 然后重新拉取依赖: yarn")])]),t._v(" "),e("div",{staticClass:"language-package.json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('"vue": "^2.7.14"\n\n"vue-template-compilere": "^2.7.14"\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h3",{attrs:{id:"eslint-报错-eslint-cannot-read-property-range-of-null"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eslint-报错-eslint-cannot-read-property-range-of-null"}},[t._v("#")]),t._v(" eslint 报错 [eslint] Cannot read property 'range' of null")]),t._v(" "),e("p",[t._v("问题截图")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/26f3a4e8-d4ba-41d7-8d47-36e96ba15c96-2331693.jpg",alt:""}})]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://stackoverflow.com/questions/59851788/import-eslint-cannot-read-property-range-of-null-occurred-while-linting",target:"_blank",rel:"noopener noreferrer"}},[t._v("解决方案"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("indent: 0,template-curly-spacing:0, 搞定，但是感觉会影响很大。。，这种相当于关闭当前这种校验")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/e5403d80-0d99-4cc8-ba4d-bbecb059dbe7-2331693.jpg",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"若依主题色狗带"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若依主题色狗带"}},[t._v("#")]),t._v(" 若依主题色狗带")]),t._v(" "),e("p",[t._v("问题原因是因为vuecli  删除了模块自动补全的设置："),e("a",{attrs:{href:"https://cli.vuejs.org/migrations/migrate-from-v4.html#typescript-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cli.vuejs.org/migrations/migrate-from-v4.html#typescript-plugin"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/5cd44e63-2e3a-4a41-b2d9-be0745333c9e-2331693.jpg",alt:""}})]),t._v(" "),e("p",[t._v("问题原因：调试了之后，发现是因为主题色没了， 原因是 ：export语法在当前webpack版本不行了，")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/dd8b5196-e111-4c06-9643-d4a70b4d3bcb-2331693.jpg",alt:""}})]),t._v(" "),e("p",[t._v("若依使用了这个工具： "),e("a",{attrs:{href:"https://www.bluematador.com/blog/how-to-share-variables-between-js-and-sass",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bluematador.com/blog/how-to-share-variables-between-js-and-sass"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://cli.vuejs.org/guide/css.html#css-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("css module 是啥"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/aa9190dc-6dc3-4d70-8808-41073509c021-2331693.jpg",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"解决办法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[t._v("#")]),t._v(" 解决办法")]),t._v(" "),e("blockquote",[e("p",[t._v("把 variables.scss 改成 variables.module.scss  然后再把引用这个文件的地方改掉就好了， 追求完美可以改下vuecli配置，改一下 ，可以保持引用不变，")])]),t._v(" "),e("ul",[e("li",[t._v("感觉就是那个版本里面改了处理，才会导致这个问题产生，没时间追究了， 等待有缘人带带我")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/ebc56983-4963-4d31-a855-45b6f6ec0007-2331693.jpg",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"打包报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包报错"}},[t._v("#")]),t._v(" 打包报错")]),t._v(" "),e("p",[t._v("TypeError: htmlWebpackPlugin.getHooks is not a function")]),t._v(" "),e("p",[t._v("报错信息")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/faf25c6f-250d-4cb9-a72a-54c5f38c8bb1-2331693.jpg",alt:""}})]),t._v(" "),e("p",[t._v("问题原因")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/d985bd3f-b1a4-4882-8f17-cc3871d6aeb5-2331693.jpg",alt:""}})]),t._v(" "),e("p",[t._v("解决方案")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/f1bfc911-5e62-4496-8656-b9036de80bcc-2331693.jpg",alt:""}})]),t._v(" "),e("p",[t._v("打包不分包：同样的配置， 在webpack4的时候都可以分包，webpack5的时候狗带")]),t._v(" "),e("p",[t._v("项目配置")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/bd80573a-641c-4fce-ba75-2c34395d59f5-2331693.jpg",alt:""}})]),t._v(" "),e("p",[t._v("问题原因")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/465c8f14-3c25-4c7b-a4d4-60f148292698-2331693.jpg",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"element-按需加载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#element-按需加载"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://element.eleme.io/#/zh-CN/component/quickstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("element 按需加载"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("yarn babel-plugin-component -D")]),t._v(" "),e("p",[t._v("添加配置")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/caf13702-558e-4ac7-a7ef-af7cad52f902-2331693.jpg",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"大概就是这样啦-虽然还有很多没做-哈哈"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大概就是这样啦-虽然还有很多没做-哈哈"}},[t._v("#")]),t._v(" 大概就是这样啦，虽然还有很多没做，哈哈")])])}),[],!1,null,null,null);e.default=r.exports}}]);