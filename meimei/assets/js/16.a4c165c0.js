(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{412:function(t,a,e){"use strict";e.r(a);var s=e(12),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"事故描述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事故描述"}},[t._v("#")]),t._v(" 事故描述")]),t._v(" "),a("blockquote",[a("p",[t._v("一图解千愁\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/5e0327cb-f065-40cf-9117-cf814af1d9d0-2331693.jpg",alt:"事故图片"}})])]),t._v(" "),a("h2",{attrs:{id:"事故造成的影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事故造成的影响"}},[t._v("#")]),t._v(" 事故造成的影响")]),t._v(" "),a("blockquote",[a("p",[t._v("生产环境某些页面打不开，控制台报错，错误信息 token.type.endsWith is not a function\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/4b68572d-8490-49a8-af91-7ad677b1b8c5-2331693.jpg",alt:"事故图"}})])]),t._v(" "),a("h2",{attrs:{id:"事故原因分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事故原因分析"}},[t._v("#")]),t._v(" 事故原因分析")]),t._v(" "),a("ul",[a("li",[t._v("为什么生产环境引入这个包：@vue/cli-plugin-eslint？")]),t._v(" "),a("li",[t._v("token.type.endsWith is not a function报错的原因是？")])]),t._v(" "),a("h3",{attrs:{id:"为什么生产环境引入这个包-vue-cli-plugin-eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么生产环境引入这个包-vue-cli-plugin-eslint"}},[t._v("#")]),t._v(" 为什么生产环境引入这个包：@vue/cli-plugin-eslint")]),t._v(" "),a("ul",[a("li",[t._v("因为我们项目的 lintOnSave 的配置默认就是true, 官网也说了， 如果是true的话， 会导致生产也会被启用\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/e9433c74-2734-4c15-8080-996ee8148492-2331693.jpg",alt:"lintonSave"}})])]),t._v(" "),a("p",[t._v("当前我的项目的配置又刚好是把lintOnSave给开出来了！！！！")]),t._v(" "),a("h3",{attrs:{id:"token-type-endswith-is-not-a-function报错的原因是"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token-type-endswith-is-not-a-function报错的原因是"}},[t._v("#")]),t._v(" token.type.endsWith is not a function报错的原因是")]),t._v(" "),a("ul",[a("li",[t._v("谷歌把我指引到了 eslint-plugin-vue 的官方issues，官方的大佬说，这个问题是babel-eslint的问题！！！\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/aa72f63d-7280-40db-a039-064026d0a13c-2331693.jpg",alt:"eslint-plugin-vue 示例图"}}),t._v(" "),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/aa72f63d-7280-40db-a039-064026d0a13c-2331693.jpg",alt:"eslint-plugin-vue 示例图"}})])]),t._v(" "),a("h4",{attrs:{id:"token-type-endswith-is-not-a-function解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token-type-endswith-is-not-a-function解决方案"}},[t._v("#")]),t._v(" token.type.endsWith is not a function解决方案")]),t._v(" "),a("h5",{attrs:{id:"babel-eslint-变成8-2-2版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-eslint-变成8-2-2版本"}},[t._v("#")]),t._v(" babel-eslint 变成8.2.2版本")]),t._v(" "),a("blockquote",[a("p",[t._v("降级babel-eslint,官方babel-eslint 8.2.2 版本之后就修复了， 但是我项目的babel-eslint的版本是10.0.1啊，为啥还会有问题，想不通，网上也碰到很多人说10.0.1的有一堆问题,反正降级到8.2.2就好了")])]),t._v(" "),a("ul",[a("li",[t._v("babel-eslint 升级到8.2.2")])]),t._v(" "),a("div",{staticClass:"language-npm line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  npm install -D babel-eslint@8.2.2\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/d4c1b831-9340-486f-ab8a-ee42015014b9-2331693.jpg",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"升级-eslint-plugin-vue-到-8-3-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级-eslint-plugin-vue-到-8-3-0"}},[t._v("#")]),t._v(" 升级 eslint-plugin-vue 到 8.3.0")]),t._v(" "),a("div",{staticClass:"language-npm line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  npm install -D eslint-plugin-vue@8.3.0\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/938adc51-fc28-4280-9a0c-4e126cddd7d2-2331693.jpg",alt:"eslint-plugin-vue示例图"}})]),t._v(" "),a("h3",{attrs:{id:"如何重现这个bug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何重现这个bug"}},[t._v("#")]),t._v(" 如何重现这个bug？")]),t._v(" "),a("h4",{attrs:{id:"项目背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目背景"}},[t._v("#")]),t._v(" 项目背景")]),t._v(" "),a("ul",[a("li",[t._v("基于若依前后端分离模板里面拷贝出来的项目")])]),t._v(" "),a("blockquote",[a("p",[t._v("概率性，我发现使用npm install 比较容易出现这个问题，我的重现步骤是")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("1")]),t._v("  vue.config.js lintOnSave 变成true")]),t._v(" "),a("li",[a("strong",[t._v("2")]),t._v("  当前项目的一些依赖，主要就是babel-eslint 10.0.1 在window不同电脑里面，有的电脑，同样的版本就是报错！！\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/56c9f39b-45ba-4fbf-b56f-b540611f8a45-2331693.jpg",alt:"当前项目的配置"}})]),t._v(" "),a("li",[a("strong",[t._v("3")]),t._v("  启动服务，报错信息如下\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/6dacea94-d304-4e8f-84a3-2586ef5183f9-2331693.jpg",alt:"报错信息"}})]),t._v(" "),a("li",[a("strong",[t._v("4")]),t._v("  打包项目，控制台会报token.type.endsWith is not a function，但是打包成功，出现这种情况，如果你不注意，就把包打上去，恭喜你，领取生产bug福利\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/8dfd47d7-39a1-4ca2-ab26-37bcbd081b46-2331693.jpg",alt:"报错信息"}})]),t._v(" "),a("li",[a("strong",[t._v("5")]),t._v("  有错误的包，直接丢生产：页面打不开，控制台报错，一脸懵逼的福利😄😄😄\n"),a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/4b68572d-8490-49a8-af91-7ad677b1b8c5-2331693.jpg",alt:"报错信息"}})])]),t._v(" "),a("h2",{attrs:{id:"事故解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事故解决方案"}},[t._v("#")]),t._v(" 事故解决方案")]),t._v(" "),a("ul",[a("li",[t._v("vue.config.js 生产环境把lintOnSave 关掉，就算babel-eslint 报错， 也不会导致页面开不出来")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/0620340d-2824-4430-9424-0e49fc34592a-2331693.jpg",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("降低babel-eslint版本，杜绝出现这种问题，")])]),t._v(" "),a("h2",{attrs:{id:"引申问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引申问题"}},[t._v("#")]),t._v(" 引申问题")]),t._v(" "),a("ul",[a("li",[t._v("为啥同样的包，不同window电脑，就会报错？")])]),t._v(" "),a("h2",{attrs:{id:"结束语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结束语"}},[t._v("#")]),t._v(" 结束语")]),t._v(" "),a("ul",[a("li",[t._v("本文如有错误，欢迎指正，非常感谢")]),t._v(" "),a("li",[t._v("觉得有用的老铁，点个双击，小红心走一波")]),t._v(" "),a("li",[t._v("欢迎灌水，来呀，互相伤害哈 o(∩_∩)o 哈哈")])]),t._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq_41011894/article/details/120793391",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypeError: token.type.endsWith is not a function vue eslint 问题解决"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/426628743",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue项目所有vue引用报token.type.endsWith is not a function错误"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/eslint-plugin-vue/issues?q=token.type.endsWith+is+not+a+function",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-plugin-vue/issues"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);