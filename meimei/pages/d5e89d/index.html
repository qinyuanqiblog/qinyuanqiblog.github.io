<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>puppeteer + cheerio + mysql 模拟用户去爬取一个aspx网站 | 小梅梅的二狗子</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/meimei/images/favicon.ico">
    <meta name="description" content="记录时光">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/meimei/assets/css/0.styles.bc684c35.css" as="style"><link rel="preload" href="/meimei/assets/js/app.e17b4371.js" as="script"><link rel="preload" href="/meimei/assets/js/2.970af444.js" as="script"><link rel="preload" href="/meimei/assets/js/20.a2a606e3.js" as="script"><link rel="prefetch" href="/meimei/assets/js/10.f097d8a1.js"><link rel="prefetch" href="/meimei/assets/js/11.f237bed0.js"><link rel="prefetch" href="/meimei/assets/js/12.25db751c.js"><link rel="prefetch" href="/meimei/assets/js/13.fafa65ea.js"><link rel="prefetch" href="/meimei/assets/js/14.e0a6bf79.js"><link rel="prefetch" href="/meimei/assets/js/15.e19139c1.js"><link rel="prefetch" href="/meimei/assets/js/16.a4c165c0.js"><link rel="prefetch" href="/meimei/assets/js/17.55d6b7df.js"><link rel="prefetch" href="/meimei/assets/js/18.8929c63f.js"><link rel="prefetch" href="/meimei/assets/js/19.1038800c.js"><link rel="prefetch" href="/meimei/assets/js/21.10f15bcd.js"><link rel="prefetch" href="/meimei/assets/js/22.4d316bc3.js"><link rel="prefetch" href="/meimei/assets/js/23.a3c5bf38.js"><link rel="prefetch" href="/meimei/assets/js/24.b7063922.js"><link rel="prefetch" href="/meimei/assets/js/25.fe2d9609.js"><link rel="prefetch" href="/meimei/assets/js/26.e39a956e.js"><link rel="prefetch" href="/meimei/assets/js/27.47651ada.js"><link rel="prefetch" href="/meimei/assets/js/3.0021f244.js"><link rel="prefetch" href="/meimei/assets/js/4.6afa3ba4.js"><link rel="prefetch" href="/meimei/assets/js/5.6a9b00c1.js"><link rel="prefetch" href="/meimei/assets/js/6.018937bc.js"><link rel="prefetch" href="/meimei/assets/js/7.a6e64ea3.js"><link rel="prefetch" href="/meimei/assets/js/8.2729f837.js"><link rel="prefetch" href="/meimei/assets/js/9.e45e831b.js">
    <link rel="stylesheet" href="/meimei/assets/css/0.styles.bc684c35.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/meimei/" class="home-link router-link-active"><img src="/meimei/images/logo.png" alt="小梅梅的二狗子" class="logo"> <span class="site-name can-hide">小梅梅的二狗子</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/meimei/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><!----> <span class="title" style="display:;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/pages/a418d9/" class="nav-link">fileReader</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/476230/" class="nav-link">canvas</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/7e6403/" class="nav-link">【css世界】学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><!----> <span class="title" style="display:;">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/52721a/" class="nav-link">vue cli2 升级vue cli3 采坑记录</a></li><li class="dropdown-subitem"><a href="/meimei/pages/60287c/" class="nav-link">vue-cli3 项目 token.type.endsWith is not a function 生产事故分析</a></li><li class="dropdown-subitem"><a href="/meimei/pages/2227be/" class="nav-link">使用vuepress 搭建团队文档</a></li></ul></li><li class="dropdown-item"><h4>node</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/873b11/" class="nav-link">nodjs 爬取喜欢的的背景图片</a></li><li class="dropdown-subitem"><a href="/meimei/pages/159617/" class="nav-link">使用 puppeteer + nodejs 爬取喜欢的动漫资源</a></li><li class="dropdown-subitem"><a href="/meimei/pages/d5e89d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">puppeteer爬取aspx网站</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端部署相关" class="dropdown-title"><!----> <span class="title" style="display:;">前端部署相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>jenkins</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6c49fd/" class="nav-link">Jenkins 从安装到自动部署h5</a></li><li class="dropdown-subitem"><a href="/meimei/pages/26c14e/" class="nav-link">vue自动部署项目到服务器</a></li><li class="dropdown-subitem"><a href="/meimei/pages/8729f4/" class="nav-link">jenkins自动打包前端代码并发布到测试或者生产</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="window环境工具推荐" class="dropdown-title"><!----> <span class="title" style="display:;">window环境工具推荐</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vscode</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6dc76d/" class="nav-link">Visual Studio Code 入门简介 常用插件介绍</a></li><li class="dropdown-subitem"><a href="/meimei/pages/af1081/" class="nav-link">vscode prettier eslint 插件格式化不生效的问题</a></li></ul></li><li class="dropdown-item"><h4>其他的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/f0df26/" class="nav-link">声卡问题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/meimei/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/meimei/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/meimei/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/qinyuanqiblog/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatar-static.segmentfault.com/192/812/192812280-5ec40e5e3bdc0_huge256"> <div class="blogger-info"><h3>qinyuanqi</h3> <span>搬砖使我变强！冲！！！</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/meimei/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><!----> <span class="title" style="display:;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/pages/a418d9/" class="nav-link">fileReader</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/476230/" class="nav-link">canvas</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/7e6403/" class="nav-link">【css世界】学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><!----> <span class="title" style="display:;">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/52721a/" class="nav-link">vue cli2 升级vue cli3 采坑记录</a></li><li class="dropdown-subitem"><a href="/meimei/pages/60287c/" class="nav-link">vue-cli3 项目 token.type.endsWith is not a function 生产事故分析</a></li><li class="dropdown-subitem"><a href="/meimei/pages/2227be/" class="nav-link">使用vuepress 搭建团队文档</a></li></ul></li><li class="dropdown-item"><h4>node</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/873b11/" class="nav-link">nodjs 爬取喜欢的的背景图片</a></li><li class="dropdown-subitem"><a href="/meimei/pages/159617/" class="nav-link">使用 puppeteer + nodejs 爬取喜欢的动漫资源</a></li><li class="dropdown-subitem"><a href="/meimei/pages/d5e89d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">puppeteer爬取aspx网站</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端部署相关" class="dropdown-title"><!----> <span class="title" style="display:;">前端部署相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>jenkins</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6c49fd/" class="nav-link">Jenkins 从安装到自动部署h5</a></li><li class="dropdown-subitem"><a href="/meimei/pages/26c14e/" class="nav-link">vue自动部署项目到服务器</a></li><li class="dropdown-subitem"><a href="/meimei/pages/8729f4/" class="nav-link">jenkins自动打包前端代码并发布到测试或者生产</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="window环境工具推荐" class="dropdown-title"><!----> <span class="title" style="display:;">window环境工具推荐</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vscode</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6dc76d/" class="nav-link">Visual Studio Code 入门简介 常用插件介绍</a></li><li class="dropdown-subitem"><a href="/meimei/pages/af1081/" class="nav-link">vscode prettier eslint 插件格式化不生效的问题</a></li></ul></li><li class="dropdown-item"><h4>其他的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/f0df26/" class="nav-link">声卡问题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/meimei/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/meimei/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/meimei/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/qinyuanqiblog/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>basics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>practice</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>frame</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Element-ui</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>node</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/meimei/pages/873b11/" class="sidebar-link">nodjs 爬取喜欢的的背景图片</a></li><li><a href="/meimei/pages/159617/" class="sidebar-link">使用 puppeteer + nodejs 爬取喜欢的动漫资源</a></li><li><a href="/meimei/pages/d5e89d/" aria-current="page" class="active sidebar-link">puppeteer + cheerio + mysql 模拟用户去爬取一个aspx网站</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#起源" class="sidebar-link">起源</a></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#最终效果" class="sidebar-link">最终效果</a></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#作者在写这篇文章的技能和环境" class="sidebar-link">作者在写这篇文章的技能和环境</a></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#本文只适合小白阅读-大佬请出门左转" class="sidebar-link">本文只适合小白阅读，大佬请出门左转~</a></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#页面地址" class="sidebar-link">页面地址</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#页面分析" class="sidebar-link">页面分析</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#核心代码讲解" class="sidebar-link">核心代码讲解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#puppetter-如何改变页面的值" class="sidebar-link">puppetter 如何改变页面的值？</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#官网api" class="sidebar-link">官网api</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#puppetter-如何触发事件" class="sidebar-link">puppetter 如何触发事件？</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#使用puppetter访问页面-如何去解析数据" class="sidebar-link">使用puppetter访问页面，如何去解析数据？</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#如何把保存数据到数据库-新建一个house-info-数据库-然后搞了一个presell-预售表-预售的表结构" class="sidebar-link">如何把保存数据到数据库？新建一个house_info 数据库，然后搞了一个presell 预售表，预售的表结构</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#sql相关知识查询数据" class="sidebar-link">sql相关知识查询数据</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#如何批量插入数据" class="sidebar-link">如何批量插入数据</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#开始编码" class="sidebar-link">开始编码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#先访问一次" class="sidebar-link">先访问一次</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#因为第一组分页的页面结构和第二组的页面结构不一样-所以要搞成不同的逻辑不同的页面结构-难搞哦" class="sidebar-link">因为第一组分页的页面结构和第二组的页面结构不一样，所以要搞成不同的逻辑不同的页面结构，难搞哦</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#第一页的时候的页面结构和逻辑" class="sidebar-link">第一页的时候的页面结构和逻辑</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#第二组分页的页面机构和逻辑" class="sidebar-link">第二组分页的页面机构和逻辑</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#开始第一轮的轮询" class="sidebar-link">开始第一轮的轮询</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#开始第二轮的轮询" class="sidebar-link">开始第二轮的轮询</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#存储数据库的逻辑" class="sidebar-link">存储数据库的逻辑</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#下载不了chromium的解决办法" class="sidebar-link">下载不了chromium的解决办法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#failed-to-set-up-chromium-r1095492-set-puppeteer-skip-download-env-variable-to-skip-download" class="sidebar-link">Failed to set up Chromium r1095492! Set &quot;PUPPETEERSKIPDOWNLOAD&quot; env variable to skip download</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#问题截图-关键词-failed-to-set-up-chromium-r1095492-set-puppeteer-skip-download-env-variable-to-skip-download" class="sidebar-link">问题截图 关键词：Failed to set up Chromium r1095492! Set &quot;PUPPETEERSKIPDOWNLOAD&quot; env variable to skip download</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#问题原因-下面这张图是我在家里面直接更新就好了-一点问题都没有-在公司电脑已更新就狗带-太难了" class="sidebar-link">问题原因： 下面这张图是我在家里面直接更新就好了，一点问题都没有，在公司电脑已更新就狗带，太难了</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#解决办法-想直接看答案的-直接跳到终极原因-或者方法5处查看解决办法" class="sidebar-link">解决办法：（想直接看答案的，直接跳到终极原因 或者方法5处查看解决办法）</a></li><li class="sidebar-sub-header level5"><a href="/meimei/pages/d5e89d/#方法1-从puppeteer-源码找到下载的资源" class="sidebar-link">~~方法1： 从puppeteer 源码找到下载的资源~~</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#方法2-从chromium-官网下载对应的版本" class="sidebar-link">~~方法2：从chromium 官网下载对应的版本~~</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#方法3-chrome与puppeteer版本发生冲突在gitee上找了另一个思路" class="sidebar-link">方法3：chrome与puppeteer版本发生冲突在gitee上找了另一个思路</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#方法4-puppeteer-install-chromium-r1095492-error换了个思路-然后进了这个网站" class="sidebar-link">方法4：puppeteer install Chromium r1095492  error换了个思路，然后进了这个网站</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/d5e89d/#终极原因" class="sidebar-link">终极原因</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/d5e89d/#方法5-使用本机的chrom" class="sidebar-link">方法5：使用本机的chrom</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#想看源码的可以瞅瞅" class="sidebar-link">想看源码的可以瞅瞅</a></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#免责声明" class="sidebar-link">免责声明</a></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/d5e89d/#参考资料" class="sidebar-link">参考资料</a></li></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>deploy</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>window</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网易</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/meimei/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/meimei/categories/?category=web" title="分类" data-v-06225672>web</a></li><li data-v-06225672><a href="/meimei/categories/?category=frame" title="分类" data-v-06225672>frame</a></li><li data-v-06225672><a href="/meimei/categories/?category=node" title="分类" data-v-06225672>node</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/qinyuanqiblog" target="_blank" title="作者" class="beLink" data-v-06225672>qinyuanqi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-04-25</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">puppeteer + cheerio + mysql 模拟用户去爬取一个aspx网站<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="起源"><a href="#起源" class="header-anchor">#</a> 起源</h2> <blockquote><p>最近被前同事问是否可以帮他去爬取一个网站的数据，然后他把网站发给我了，之后我就去研究了下，</p> <blockquote><p>本来计划用spider-flow 这个东西来爬的，毕竟能不写代码的，为啥我要去写代码，然后研究了下spider-flow 发现满足不了需求，浪费了两天时间，
😄😄😄， 还是老老实实手写把,对spider-flow 感兴趣的可以看看我写的：<a href="https://www.mubucm.com/doc/7rBgfYhSzrt" target="_blank" rel="noopener noreferrer">https://www.mubucm.com/doc/7rBgfYhSzrt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></blockquote> <h2 id="最终效果"><a href="#最终效果" class="header-anchor">#</a> 最终效果</h2> <p><img src="https://api2.mubu.com/v3/document_image/f6962e12-283b-47e8-831d-b29ea553c618-2331693.jpg" alt="图片"></p> <h2 id="作者在写这篇文章的技能和环境"><a href="#作者在写这篇文章的技能和环境" class="header-anchor">#</a> 作者在写这篇文章的技能和环境</h2> <ul><li>前端略懂一二</li> <li>nodejs 一窍不通</li> <li>数据库一窍不通</li> <li>window系统</li> <li>puppeteer 版本: 19.7.4</li> <li>node版本: 14.18.0</li></ul> <h2 id="本文只适合小白阅读-大佬请出门左转"><a href="#本文只适合小白阅读-大佬请出门左转" class="header-anchor">#</a> 本文只适合小白阅读，大佬请出门左转~</h2> <h2 id="页面地址"><a href="#页面地址" class="header-anchor">#</a> 页面地址</h2> <ul><li><p><a href="http://zjj.sz.gov.cn:8004/?__EVENTARGUMENT=3&amp;ddlPageCount=20" target="_blank" rel="noopener noreferrer">http://zjj.sz.gov.cn:8004/?__EVENTARGUMENT=3&amp;ddlPageCount=20<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>本文将以爬取一手房预售房源数据为例</p></li></ul> <p><img src="https://api2.mubu.com/v3/document_image/bbdf06e6-82f1-4871-b0be-7e877ccfb9a4-2331693.jpg" alt="图片"></p> <h4 id="页面分析"><a href="#页面分析" class="header-anchor">#</a> 页面分析</h4> <ul><li>一手房预售信息页面信息首页数据从哪里来？</li></ul> <p><img src="https://api2.mubu.com/v3/document_image/01ffb709-61b4-4c8b-98f2-6bc63bb14aff-2331693.jpg" alt="图片"></p> <ul><li>页面执行逻辑</li></ul> <p><img src="https://api2.mubu.com/v3/document_image/542ef7e7-6159-4656-85bd-12a424356da1-2331693.jpg" alt="图片"></p> <ul><li>页面渲染逻辑</li></ul> <p><img src="https://api2.mubu.com/v3/document_image/cfaf2b29-3923-4837-a172-834243594c16-2331693.jpg" alt="图片"></p> <ul><li>项目详情页跳转逻辑：<a href="http://zjj.sz.gov.cn/ris/bol/szfdc/projectdetail.aspx?id=126809" target="_blank" rel="noopener noreferrer">http://zjj.sz.gov.cn/ris/bol/szfdc/projectdetail.aspx?id=126809<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><img src="https://api2.mubu.com/v3/document_image/f6439137-d019-40c9-97bc-f0c138b76342-2331693.jpg" alt="图片"></p> <ul><li>证件详情页跳转逻辑：<a href="http://zjj.sz.gov.cn/ris/bol/szfdc/certdetail.aspx?id=126809" target="_blank" rel="noopener noreferrer">http://zjj.sz.gov.cn/ris/bol/szfdc/certdetail.aspx?id=126809<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><img src="https://api2.mubu.com/v3/document_image/c52c1cb6-7367-4165-b07e-1283886b8654-2331693.jpg" alt="图片"></p> <h2 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h2> <ul><li>思路1：模拟用户操作，像一个正常的用户去点击然后爬取数据，之后再把数据存储到数据库, 然后点击分页重复这个操作，直到爬取完所有数据</li> <li>思路2：直接调用获取数据接口，然后解析数据，之后再把数据存储到数据库我们先用思路1的方式来做，</li> <li>本来我想用思路2的做法来做，后来有个问题没解决，所以先按照思路1来实现</li></ul> <h2 id="核心代码讲解"><a href="#核心代码讲解" class="header-anchor">#</a> 核心代码讲解</h2> <h3 id="puppetter-如何改变页面的值"><a href="#puppetter-如何改变页面的值" class="header-anchor">#</a> puppetter 如何改变页面的值？</h3> <h4 id="官网api"><a href="#官网api" class="header-anchor">#</a> 官网api</h4> <p><img src="https://api2.mubu.com/v3/document_image/ddbb398e-c613-4e6a-9413-dec4ce39dac0-2331693.jpg" alt="图片"></p> <ul><li>具体代码，按照20条/页去爬取
<img src="https://api2.mubu.com/v3/document_image/2340c4e1-0e93-4cf9-9b3d-4d45cb903abe-2331693.jpg" alt="图片"></li></ul> <h3 id="puppetter-如何触发事件"><a href="#puppetter-如何触发事件" class="header-anchor">#</a> puppetter 如何触发事件？</h3> <ul><li>api</li></ul> <p><img src="https://api2.mubu.com/v3/document_image/b2b084a7-28c6-4214-a2a9-84428d6b00f3-2331693.jpg" alt="图片"></p> <ul><li>实例：
<img src="https://api2.mubu.com/v3/document_image/401d3c3a-a683-4937-8d5f-eb41b5755893-2331693.jpg" alt="图片"></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>page<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>#AspNetPager1 <span class="token operator">&gt;</span> span<span class="token operator">:</span>nth<span class="token operator">-</span>last<span class="token operator">-</span><span class="token keyword">of</span><span class="token operator">-</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">delay</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="使用puppetter访问页面-如何去解析数据"><a href="#使用puppetter访问页面-如何去解析数据" class="header-anchor">#</a> 使用puppetter访问页面，如何去解析数据？</h3> <ul><li>一开始我还一直被困在这个puppetter api，一直想在这个浏览器执行的时候去获取这些信息，其实这种也是可以的，但是不方便，后来百度发现可以使用cheerio这个库，像使用jquery把对页面做操作
<img src="https://api2.mubu.com/v3/document_image/e1184de6-31d5-4ef3-a529-5b2e4076a067-2331693.jpg" alt="图片"></li> <li>cheerio 遍历页面数据
<img src="https://api2.mubu.com/v3/document_image/f6aa4fc0-b998-42b4-b923-56134a452ec6-2331693.jpg" alt="图片"></li> <li>cheerio 具体代码
<img src="https://api2.mubu.com/v3/document_image/9fa4a12d-2b1a-4bba-beb9-68b3a4071112-2331693.jpg" alt="图片"></li></ul> <h3 id="如何把保存数据到数据库-新建一个house-info-数据库-然后搞了一个presell-预售表-预售的表结构"><a href="#如何把保存数据到数据库-新建一个house-info-数据库-然后搞了一个presell-预售表-预售的表结构" class="header-anchor">#</a> 如何把保存数据到数据库？新建一个house_info 数据库，然后搞了一个presell 预售表，预售的表结构</h3> <p><img src="https://api2.mubu.com/v3/document_image/e2f094d3-f9e4-4b3b-a829-6ef2f643da6d-2331693.jpg" alt="图片"></p> <h4 id="sql相关知识查询数据"><a href="#sql相关知识查询数据" class="header-anchor">#</a> sql相关知识查询数据</h4> <ul><li>select * from presell</li> <li>更新某一条数据：update presell set name='阿斯顿撒',enterprise=99 WHERE serial=2</li> <li>更新所有的数据：UPDATE presell SET address='深圳'插入数据：INSERT INTO presell (mainKey,serial,id) VALUES (1111,2,3);</li> <li>批量插入数据：INSERT INTO presell ( mainKey, serial, id, NAME, enterprise, address, date ) VALUES ( '10001', '2', '3', '4', '5', '6', '2022-02-06' ),( '10002', '2222', '3', '4', '5', '6', '2022-02-06' )</li></ul> <h4 id="如何批量插入数据"><a href="#如何批量插入数据" class="header-anchor">#</a> 如何批量插入数据</h4> <p><img src="https://api2.mubu.com/v3/document_image/631d4a99-96c2-4484-9db7-b24c850b00e5-2331693.jpg" alt="图片"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> mysql      <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">host</span>     <span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">user</span>     <span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span> <span class="token operator">:</span> <span class="token string">'root'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'use house_info'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span> 
    <span class="token number">1679389969116</span><span class="token punctuation">,</span>
    <span class="token string">'13'</span><span class="token punctuation">,</span>
    <span class="token string">'深房许字（2023）南山003号'</span><span class="token punctuation">,</span>
    <span class="token string">'http://zjj.sz.gov.cn/ris/bol/szfdc/certdetail.aspx?id=126737'</span><span class="token punctuation">,</span>
    <span class="token string">'方直珑樾山花园'</span><span class="token punctuation">,</span>
    <span class="token string">'http://zjj.sz.gov.cn/ris/bol/szfdc/ojectdetail.aspx?id=126737'</span><span class="token punctuation">,</span>
    <span class="token string">'深圳市龙廷房地产开发有限公司'</span><span class="token punctuation">,</span>
    <span class="token string">'南山'</span><span class="token punctuation">,</span>
    <span class="token string">'2023-03-02'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>
    <span class="token number">1679389969118</span><span class="token punctuation">,</span>
    <span class="token string">'13'</span><span class="token punctuation">,</span>
    <span class="token string">'深房许字（2023）南山003号'</span><span class="token punctuation">,</span>
    <span class="token string">'http://zjj.sz.gov.cn/ris/bol/szfdc/certdetail.aspx?id=126737'</span><span class="token punctuation">,</span>
    <span class="token string">'方直珑樾山花园'</span><span class="token punctuation">,</span>
    <span class="token string">'http://zjj.sz.gov.cn/ris/bol/szfdc/ojectdetail.aspx?id=126737'</span><span class="token punctuation">,</span>
    <span class="token string">'深圳市龙廷房地产开发有限公司'</span><span class="token punctuation">,</span>
    <span class="token string">'南山'</span><span class="token punctuation">,</span>
    <span class="token string">'2023-03-02'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">INSERT INTO presell ( mainKey, serial, idCard, idCardUrl, productName, productUrl, enterprise, location, authorizeDate )
VALUES ?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token punctuation">[</span>array<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'批量插入失敗，错误信息==&gt;'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
   <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// connected!</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'批量插入成功'</span><span class="token punctuation">,</span> results<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="开始编码"><a href="#开始编码" class="header-anchor">#</a> 开始编码</h2> <ul><li>puppetter 环境搞了我两天，装了新版本，chrom一直没有下载下来，😭😭😭，解决方法看后面</li></ul> <h3 id="先访问一次"><a href="#先访问一次" class="header-anchor">#</a> 先访问一次</h3> <p><img src="https://api2.mubu.com/v3/document_image/e468bafe-d7db-4309-be1e-b3ef68a9ca4b-2331693.jpg" alt="图片"></p> <h3 id="因为第一组分页的页面结构和第二组的页面结构不一样-所以要搞成不同的逻辑不同的页面结构-难搞哦"><a href="#因为第一组分页的页面结构和第二组的页面结构不一样-所以要搞成不同的逻辑不同的页面结构-难搞哦" class="header-anchor">#</a> 因为第一组分页的页面结构和第二组的页面结构不一样，所以要搞成不同的逻辑不同的页面结构，难搞哦</h3> <p><img src="https://api2.mubu.com/v3/document_image/dc9d0b4d-1daf-4f63-9447-5f9f1848e9fe-2331693.jpg" alt="图片"></p> <h4 id="第一页的时候的页面结构和逻辑"><a href="#第一页的时候的页面结构和逻辑" class="header-anchor">#</a> 第一页的时候的页面结构和逻辑</h4> <p><img src="https://api2.mubu.com/v3/document_image/e2ad4547-a00d-45b7-83d2-8a0b7182be59-2331693.jpg" alt="图片"></p> <h4 id="第二组分页的页面机构和逻辑"><a href="#第二组分页的页面机构和逻辑" class="header-anchor">#</a> 第二组分页的页面机构和逻辑</h4> <p><img src="https://api2.mubu.com/v3/document_image/accd5ddf-7bfb-4aaf-9107-2b0fb8c4c620-2331693.jpg" alt="图片"></p> <h4 id="开始第一轮的轮询"><a href="#开始第一轮的轮询" class="header-anchor">#</a> 开始第一轮的轮询</h4> <p><img src="https://api2.mubu.com/v3/document_image/e5d7b523-79da-494f-9653-f9be074cfdb0-2331693.jpg" alt="图片"></p> <h4 id="开始第二轮的轮询"><a href="#开始第二轮的轮询" class="header-anchor">#</a> 开始第二轮的轮询</h4> <p><img src="https://api2.mubu.com/v3/document_image/fad8c2c8-6a26-4c7a-ac8d-d604851edccd-2331693.jpg" alt="图片"></p> <h3 id="存储数据库的逻辑"><a href="#存储数据库的逻辑" class="header-anchor">#</a> 存储数据库的逻辑</h3> <p><img src="https://api2.mubu.com/v3/document_image/1e9ce03d-450a-4560-866b-b802b7a6a30b-2331693.jpg" alt="图片"></p> <h2 id="下载不了chromium的解决办法"><a href="#下载不了chromium的解决办法" class="header-anchor">#</a> 下载不了chromium的解决办法</h2> <h3 id="failed-to-set-up-chromium-r1095492-set-puppeteer-skip-download-env-variable-to-skip-download"><a href="#failed-to-set-up-chromium-r1095492-set-puppeteer-skip-download-env-variable-to-skip-download" class="header-anchor">#</a> Failed to set up Chromium r1095492! Set &quot;PUPPETEER_SKIP_DOWNLOAD&quot; env variable to skip download</h3> <h4 id="问题截图-关键词-failed-to-set-up-chromium-r1095492-set-puppeteer-skip-download-env-variable-to-skip-download"><a href="#问题截图-关键词-failed-to-set-up-chromium-r1095492-set-puppeteer-skip-download-env-variable-to-skip-download" class="header-anchor">#</a> 问题截图 关键词：Failed to set up Chromium r1095492! Set &quot;PUPPETEER_SKIP_DOWNLOAD&quot; env variable to skip download</h4> <p><img src="https://api2.mubu.com/v3/document_image/112081f4-f16e-4065-a4f4-e811afe76a29-2331693.jpg" alt="图片"></p> <h4 id="问题原因-下面这张图是我在家里面直接更新就好了-一点问题都没有-在公司电脑已更新就狗带-太难了"><a href="#问题原因-下面这张图是我在家里面直接更新就好了-一点问题都没有-在公司电脑已更新就狗带-太难了" class="header-anchor">#</a> 问题原因： 下面这张图是我在家里面直接更新就好了，一点问题都没有，在公司电脑已更新就狗带，太难了</h4> <p><img src="https://api2.mubu.com/v3/document_image/32e96af9-04e3-41fe-8c60-26d151f64a00-2331693.jpg" alt="图片"></p> <h4 id="解决办法-想直接看答案的-直接跳到终极原因-或者方法5处查看解决办法"><a href="#解决办法-想直接看答案的-直接跳到终极原因-或者方法5处查看解决办法" class="header-anchor">#</a> 解决办法：（想直接看答案的，直接跳到终极原因 或者方法5处查看解决办法）</h4> <h5 id="方法1-从puppeteer-源码找到下载的资源"><a href="#方法1-从puppeteer-源码找到下载的资源" class="header-anchor">#</a> <s>方法1： 从puppeteer 源码找到下载的资源</s></h5> <ul><li>修炼不到家，找不到，😄😄😄，后来就放弃了
<img src="https://api2.mubu.com/v3/document_image/ec809c60-6e25-4fb9-b671-5d754e1427b9-2331693.jpg" alt="图片"></li></ul> <h4 id="方法2-从chromium-官网下载对应的版本"><a href="#方法2-从chromium-官网下载对应的版本" class="header-anchor">#</a> <s>方法2：从chromium 官网下载对应的版本</s></h4> <ul><li><ol><li>查看puppeter和chromium的对应关系，找到对应关系 然后在chromium的下载链接后面自己换一下，然后下载<a href="https://github.com/chromium/chromium/releases/tag/111.0.5556.0" target="_blank" rel="noopener noreferrer">https://github.com/chromium/chromium/releases/tag/111.0.5556.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/92656856-48fb-4fa7-be85-f67055a534b5-2331693.jpg" alt="图片">
-等了两个小时，发现这个文件是不对的，700m，家里面那个电脑也就是170m。这个思路也是错的
<img src="https://api2.mubu.com/v3/document_image/67b36f83-b1a9-4843-adcb-30a2473800c5-2331693.jpg" alt="图片"></li></ol></li></ul> <h4 id="方法3-chrome与puppeteer版本发生冲突在gitee上找了另一个思路"><a href="#方法3-chrome与puppeteer版本发生冲突在gitee上找了另一个思路" class="header-anchor">#</a> 方法3：chrome与puppeteer版本发生冲突在gitee上找了另一个思路</h4> <p><img src="https://api2.mubu.com/v3/document_image/78c86a47-bf44-42ff-b2e1-5e34cc17567b-2331693.jpg" alt="图片"></p> <ul><li>我当时找到了这个issue，但是没有按照这个思路找下去，如果我直接去搜索这个关键词，可能我就不用浪费半天时间了。哈哈谷歌搜索这个关键词
<img src="https://api2.mubu.com/v3/document_image/206847da-8d77-417a-b6b2-04eff91bdc0b-2331693.jpg" alt="图片"></li> <li>看这里，github地址： <a href="https://github.com/wadezhan/billfeller.github.io/issues/232%EF%BC%8C%E6%98%AF%E4%B8%AA%E6%B7%B1%E5%9C%B3%E7%9A%84%E5%A4%A7%E4%BD%AC%EF%BC%8C%E6%84%9F%E8%B0%A2~" target="_blank" rel="noopener noreferrer">https://github.com/wadezhan/billfeller.github.io/issues/232，是个深圳的大佬，感谢~<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/99a5a762-5378-46b4-b3fa-3b9866ddbccb-2331693.jpg" alt="图片"></li></ul> <h4 id="方法4-puppeteer-install-chromium-r1095492-error换了个思路-然后进了这个网站"><a href="#方法4-puppeteer-install-chromium-r1095492-error换了个思路-然后进了这个网站" class="header-anchor">#</a> 方法4：puppeteer install Chromium r1095492  error换了个思路，然后进了这个网站</h4> <p><img src="https://api2.mubu.com/v3/document_image/768cf23e-39b8-4e21-a5ae-848b28e70b8b-2331693.jpg" alt="图片"></p> <ul><li>看了这个issue：<a href="https://github.com/puppeteer/puppeteer/issues/1597#issuecomment-351945645" target="_blank" rel="noopener noreferrer">https://github.com/puppeteer/puppeteer/issues/1597#issuecomment-351945645<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/044f6e32-0c59-47fa-bbd9-3f28ecea3bd3-2331693.jpg" alt="图片"></li> <li>2017年这个问题就存在了，只不过那时候大多数人用了淘宝镜像可以解决，但是我在2023-03-13的时候用淘宝镜像就发现没有那个资源，应该是没有同步过来
<img src="https://api2.mubu.com/v3/document_image/a3a02afb-a50d-429c-a57d-0458ce00534d-2331693.jpg" alt="图片"></li> <li>cnpm 也有这个问题
<img src="https://api2.mubu.com/v3/document_image/64de745a-d078-43d9-ab7d-978f8aeebb85-2331693.jpg" alt="图片"></li> <li>Download failed: server returned code 404. URL: <a href="https://npmmirror.com/mirrors//chromium-browser-snapshots/Win_x64/1095492/chrome-win.zip" target="_blank" rel="noopener noreferrer">https://npmmirror.com/mirrors//chromium-browser-snapshots/Win_x64/1095492/chrome-win.zip<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/cbcb3ae3-8a8d-42fc-9df8-c7894058737c-2331693.jpg" alt="图片"></li> <li>chromium-browser-snapshots库
<img src="https://api2.mubu.com/v3/document_image/dd5b3ef0-30e9-4bb8-b482-c17eab919615-2331693.jpg" alt="图片"></li></ul> <h4 id="终极原因"><a href="#终极原因" class="header-anchor">#</a> 终极原因</h4> <blockquote><p>我就一直好奇这个Failed to set up Chromium r1095492! 里面的r1095492是啥东西，后来得到答案才知道，原来是一个所谓的版本号。。。，我一直以为是chromium 的版本，思路错了，他是一个chromium-browser-snapshots 里面的版本号
<a href="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win_x64/" target="_blank" rel="noopener noreferrer">https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win_x64/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/2d0fdb73-67f5-45c0-a482-3a5c62d5c2c4-2331693.jpg" alt="图片"></p></blockquote> <ul><li>这个没有梯子上不去：<a href="https://registry.npmmirror.com/binary.html?path=chromium-browser-snapshots/Win_x64/" target="_blank" rel="noopener noreferrer">https://registry.npmmirror.com/binary.html?path=chromium-browser-snapshots/Win_x64/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/698d491c-b73f-4def-9904-c2f91452a2dc-2331693.jpg" alt="图片"> <a href="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win_x64/1095492/" target="_blank" rel="noopener noreferrer">https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win_x64/1095492/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/a1003433-aa58-45be-9f43-ff9775570eaa-2331693.jpg" alt="图片">
-下载后的资源大概长这样，两天了，你知道我两天怎么过来的吗！！！
<img src="https://api2.mubu.com/v3/document_image/8371978f-ea54-41c6-b8c9-8b3bea54654b-2331693.jpg" alt="图片"></li> <li>直接把解压后的文件丢上去是不行的，必须按照puppeter 的这种格式才行，解压出来是chrome-win文件夹，
<img src="https://api2.mubu.com/v3/document_image/e19c8cca-8fdd-49d0-8f45-7012fca32c90-2331693.jpg" alt="图片"></li> <li>然后把拷贝的文件，丢到当前用户下的 .cache/puppeteer 下新建一个win64-1095492文件夹下就好了
<img src="https://api2.mubu.com/v3/document_image/cad27f46-326f-4101-bdf2-96c9f272d2d3-2331693.jpg" alt="图片"></li> <li>搞定，下班！！！
<img src="https://api2.mubu.com/v3/document_image/4eb96ed5-8453-4c8a-b74c-a7d72ccf8221-2331693.jpg" alt="图片"></li> <li>最后，总结一下，其实自己好多次都已经触碰到了答案，只是没有注意到，😄😄，历时两天，终于搞定，感谢阅读，谢谢~</li></ul> <h3 id="方法5-使用本机的chrom"><a href="#方法5-使用本机的chrom" class="header-anchor">#</a> 方法5：使用本机的chrom</h3> <ul><li>第一步：export PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true</li> <li>第二步：npm i puppeteer</li> <li>第三步：<a href="https://stackoverflow.com/questions/59786319/configure-puppeteer-executablepath-chrome-in-your-local-windows" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/59786319/configure-puppeteer-executablepath-chrome-in-your-local-windows<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://api2.mubu.com/v3/document_image/cebc179c-085a-4423-82d7-184f6d83992b-2331693.jpg" alt="图片"></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">await</span> puppeteer<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">headless</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token literal-property property">args</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'--disable-infobars'</span><span class="token punctuation">,</span> <span class="token string">'--no-sandbox'</span><span class="token punctuation">,</span> <span class="token string">'--disable-setuid-sandbox'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token comment">// window 如果复制是下面的地址是不行的，    executablePath: 'C:\Program Files\Google\Chrome\Application\chrome.exe',   // window 要把 地址里面的 \ 都变成 \ \ ,不然狗带，忘记是啥原因了，反正就是没有计算机体系知识不懂，哈哈，大概这种意思   executablePath: 'C:\Program Files\Google\Chrome\Application\chrome.exe',  });</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="想看源码的可以瞅瞅"><a href="#想看源码的可以瞅瞅" class="header-anchor">#</a> 想看源码的可以瞅瞅</h2> <p><a href="https://github.com/qinyuanqiblog/house" target="_blank" rel="noopener noreferrer">源码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="免责声明"><a href="#免责声明" class="header-anchor">#</a> 免责声明</h2> <ul><li>本项目只是学习使用，无意对此网站进行爬虫等操作</li></ul> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li>puppeteer如何触发表单提交
<img src="https://api2.mubu.com/v3/document_image/25512407-4cdf-424b-af7c-a136ea2380e4-2331693.jpg" alt="图片"></li> <li>puppeteer如何执行页面的js方法
<img src="https://api2.mubu.com/v3/document_image/33d72133-e044-4dca-acb0-6f84c7673b8d-2331693.jpg" alt="图片"></li> <li><a href="https://ifun.dev/post/puppeteer-introduction/" target="_blank" rel="noopener noreferrer">Puppeteer 基本概念介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/wadezhan/billfeller.github.io" target="_blank" rel="noopener noreferrer">puppeteer环境部署问题小记<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>vscode 如何调试node
<img src="https://api2.mubu.com/v3/document_image/bcc8f89b-b463-41fb-8388-aaf01ba62d4d-2331693.jpg" alt="图片"></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// launch.json 配置 </span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodejs-debugger&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;program&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${workspaceFolder}/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>数据库相关date空字符串处理问题原因，爬了一千多条数据，然后挂了，说插入数据库错误。。。
<img src="https://api2.mubu.com/v3/document_image/b84fb4fc-2323-416f-a97b-46c7f40bf190-2331693.jpg" alt="图片">
问了下大哥们，好像不行，只能传入date 和null，或者是说把date 变成字符串，哈哈，感觉不好把，有点业余</li></ul></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/04/25, 18:37:28</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/meimei/pages/159617/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">使用 puppeteer + nodejs 爬取喜欢的动漫资源</div></a> <a href="/meimei/pages/6c49fd/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Jenkins 从安装到自动部署h5</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/meimei/pages/159617/" class="prev">使用 puppeteer + nodejs 爬取喜欢的动漫资源</a></span> <span class="next"><a href="/meimei/pages/6c49fd/">Jenkins 从安装到自动部署h5</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/meimei/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/meimei/pages/8729f4/"><div>
            jenkins自动打包前端代码并发布到测试或者生产
            <!----></div></a> <span class="date">04-25</span></dt></dl><dl><dd>02</dd> <dt><a href="/meimei/pages/a418d9/"><div>
            fileReader
            <!----></div></a> <span class="date">04-25</span></dt></dl><dl><dd>03</dd> <dt><a href="/meimei/pages/476230/"><div>
            canvas
            <!----></div></a> <span class="date">04-25</span></dt></dl> <dl><dd></dd> <dt><a href="/meimei/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:592644285@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/qinyuanqiblog" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/playlist?id=114520484" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2023
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/meimei/assets/js/app.e17b4371.js" defer></script><script src="/meimei/assets/js/2.970af444.js" defer></script><script src="/meimei/assets/js/20.a2a606e3.js" defer></script>
  </body>
</html>
