<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue自动部署项目到服务器 | 小梅梅的二狗子</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/meimei/images/favicon.ico">
    <meta name="description" content="记录时光">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/meimei/assets/css/0.styles.bc684c35.css" as="style"><link rel="preload" href="/meimei/assets/js/app.7b2f78c7.js" as="script"><link rel="preload" href="/meimei/assets/js/2.970af444.js" as="script"><link rel="preload" href="/meimei/assets/js/29.c8db2e7a.js" as="script"><link rel="prefetch" href="/meimei/assets/js/10.aa8c76c1.js"><link rel="prefetch" href="/meimei/assets/js/11.189b5f8b.js"><link rel="prefetch" href="/meimei/assets/js/12.652f8d09.js"><link rel="prefetch" href="/meimei/assets/js/13.d905ce32.js"><link rel="prefetch" href="/meimei/assets/js/14.e081490b.js"><link rel="prefetch" href="/meimei/assets/js/15.2a405e31.js"><link rel="prefetch" href="/meimei/assets/js/16.a192bfe2.js"><link rel="prefetch" href="/meimei/assets/js/17.7031e6c6.js"><link rel="prefetch" href="/meimei/assets/js/18.0e8f9535.js"><link rel="prefetch" href="/meimei/assets/js/19.37751b13.js"><link rel="prefetch" href="/meimei/assets/js/20.a10349f0.js"><link rel="prefetch" href="/meimei/assets/js/21.d6cdd348.js"><link rel="prefetch" href="/meimei/assets/js/22.cd069245.js"><link rel="prefetch" href="/meimei/assets/js/23.1a39e50b.js"><link rel="prefetch" href="/meimei/assets/js/24.9855d707.js"><link rel="prefetch" href="/meimei/assets/js/25.161913c5.js"><link rel="prefetch" href="/meimei/assets/js/26.6350cbf9.js"><link rel="prefetch" href="/meimei/assets/js/27.ed5bb80d.js"><link rel="prefetch" href="/meimei/assets/js/28.694c5bcb.js"><link rel="prefetch" href="/meimei/assets/js/3.d6f894c3.js"><link rel="prefetch" href="/meimei/assets/js/30.85177f55.js"><link rel="prefetch" href="/meimei/assets/js/31.a8abced9.js"><link rel="prefetch" href="/meimei/assets/js/32.2de08cf0.js"><link rel="prefetch" href="/meimei/assets/js/33.e311d793.js"><link rel="prefetch" href="/meimei/assets/js/34.4efcc72c.js"><link rel="prefetch" href="/meimei/assets/js/35.dc607f22.js"><link rel="prefetch" href="/meimei/assets/js/36.00300a82.js"><link rel="prefetch" href="/meimei/assets/js/37.46fbca7c.js"><link rel="prefetch" href="/meimei/assets/js/38.ff49f4fb.js"><link rel="prefetch" href="/meimei/assets/js/39.46a6a955.js"><link rel="prefetch" href="/meimei/assets/js/4.6afa3ba4.js"><link rel="prefetch" href="/meimei/assets/js/40.2c2a07d4.js"><link rel="prefetch" href="/meimei/assets/js/41.da91e1fe.js"><link rel="prefetch" href="/meimei/assets/js/42.b340eefc.js"><link rel="prefetch" href="/meimei/assets/js/43.0c58342f.js"><link rel="prefetch" href="/meimei/assets/js/44.75ba7351.js"><link rel="prefetch" href="/meimei/assets/js/45.39a7ea08.js"><link rel="prefetch" href="/meimei/assets/js/46.a9f6fcb5.js"><link rel="prefetch" href="/meimei/assets/js/47.32524740.js"><link rel="prefetch" href="/meimei/assets/js/48.11f35b8d.js"><link rel="prefetch" href="/meimei/assets/js/49.66ea7615.js"><link rel="prefetch" href="/meimei/assets/js/5.f570e7a8.js"><link rel="prefetch" href="/meimei/assets/js/50.3d7043cd.js"><link rel="prefetch" href="/meimei/assets/js/51.3cf4bfb9.js"><link rel="prefetch" href="/meimei/assets/js/52.c9539047.js"><link rel="prefetch" href="/meimei/assets/js/53.5e202896.js"><link rel="prefetch" href="/meimei/assets/js/6.6b2bd8be.js"><link rel="prefetch" href="/meimei/assets/js/7.7fdd2b0d.js"><link rel="prefetch" href="/meimei/assets/js/8.8c249278.js"><link rel="prefetch" href="/meimei/assets/js/9.7e057c82.js">
    <link rel="stylesheet" href="/meimei/assets/css/0.styles.bc684c35.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/meimei/" class="home-link router-link-active"><img src="/meimei/images/logo.png" alt="小梅梅的二狗子" class="logo"> <span class="site-name can-hide">小梅梅的二狗子</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/meimei/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><!----> <span class="title" style="display:;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/pages/a418d9/" class="nav-link">fileReader</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/476230/" class="nav-link">canvas</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/7e6403/" class="nav-link">【css世界】学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><!----> <span class="title" style="display:;">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/52721a/" class="nav-link">vue cli2 升级vue cli3 采坑记录</a></li><li class="dropdown-subitem"><a href="/meimei/pages/60287c/" class="nav-link">vue-cli3 项目 token.type.endsWith is not a function 生产事故分析</a></li><li class="dropdown-subitem"><a href="/meimei/pages/2227be/" class="nav-link">使用vuepress 搭建团队文档</a></li></ul></li><li class="dropdown-item"><h4>node</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/873b11/" class="nav-link">nodjs 爬取喜欢的的背景图片</a></li><li class="dropdown-subitem"><a href="/meimei/pages/159617/" class="nav-link">使用 puppeteer + nodejs 爬取喜欢的动漫资源</a></li><li class="dropdown-subitem"><a href="/meimei/pages/d5e89d/" class="nav-link">puppeteer爬取aspx网站</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端部署相关" class="dropdown-title"><!----> <span class="title" style="display:;">前端部署相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>jenkins</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6c49fd/" class="nav-link">Jenkins 从安装到自动部署h5</a></li><li class="dropdown-subitem"><a href="/meimei/pages/26c14e/" aria-current="page" class="nav-link router-link-exact-active router-link-active">vue自动部署项目到服务器</a></li><li class="dropdown-subitem"><a href="/meimei/pages/8729f4/" class="nav-link">jenkins自动打包前端代码并发布到测试或者生产</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="window系统工具推荐" class="dropdown-title"><!----> <span class="title" style="display:;">window系统工具推荐</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vscode</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6dc76d/" class="nav-link">Visual Studio Code 入门简介 常用插件介绍</a></li><li class="dropdown-subitem"><a href="/meimei/pages/af1081/" class="nav-link">vscode prettier eslint 插件格式化不生效的问题</a></li></ul></li><li class="dropdown-item"><h4>其他的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/f0df26/" class="nav-link">声卡问题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/meimei/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/meimei/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/meimei/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/qinyuanqiblog/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatar-static.segmentfault.com/192/812/192812280-5ec40e5e3bdc0_huge256"> <div class="blogger-info"><h3>qinyuanqi</h3> <span>搬砖使我变强！冲！！！</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/meimei/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><!----> <span class="title" style="display:;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/pages/a418d9/" class="nav-link">fileReader</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/476230/" class="nav-link">canvas</a></li><li class="dropdown-item"><!----> <a href="/meimei/pages/7e6403/" class="nav-link">【css世界】学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><!----> <span class="title" style="display:;">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/52721a/" class="nav-link">vue cli2 升级vue cli3 采坑记录</a></li><li class="dropdown-subitem"><a href="/meimei/pages/60287c/" class="nav-link">vue-cli3 项目 token.type.endsWith is not a function 生产事故分析</a></li><li class="dropdown-subitem"><a href="/meimei/pages/2227be/" class="nav-link">使用vuepress 搭建团队文档</a></li></ul></li><li class="dropdown-item"><h4>node</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/873b11/" class="nav-link">nodjs 爬取喜欢的的背景图片</a></li><li class="dropdown-subitem"><a href="/meimei/pages/159617/" class="nav-link">使用 puppeteer + nodejs 爬取喜欢的动漫资源</a></li><li class="dropdown-subitem"><a href="/meimei/pages/d5e89d/" class="nav-link">puppeteer爬取aspx网站</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端部署相关" class="dropdown-title"><!----> <span class="title" style="display:;">前端部署相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>jenkins</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6c49fd/" class="nav-link">Jenkins 从安装到自动部署h5</a></li><li class="dropdown-subitem"><a href="/meimei/pages/26c14e/" aria-current="page" class="nav-link router-link-exact-active router-link-active">vue自动部署项目到服务器</a></li><li class="dropdown-subitem"><a href="/meimei/pages/8729f4/" class="nav-link">jenkins自动打包前端代码并发布到测试或者生产</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="window系统工具推荐" class="dropdown-title"><!----> <span class="title" style="display:;">window系统工具推荐</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Vscode</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/6dc76d/" class="nav-link">Visual Studio Code 入门简介 常用插件介绍</a></li><li class="dropdown-subitem"><a href="/meimei/pages/af1081/" class="nav-link">vscode prettier eslint 插件格式化不生效的问题</a></li></ul></li><li class="dropdown-item"><h4>其他的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/meimei/pages/f0df26/" class="nav-link">声卡问题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/meimei/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meimei/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/meimei/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/meimei/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/qinyuanqiblog/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>basics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>practice</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>frame</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>deploy</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Jenkins</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/meimei/pages/6c49fd/" class="sidebar-link">Jenkins 从安装到自动部署h5</a></li><li><a href="/meimei/pages/26c14e/" aria-current="page" class="active sidebar-link">vue自动部署项目到服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/meimei/pages/26c14e/#想要的功能" class="sidebar-link">想要的功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#经过各种百度谷歌-最后有两种方案可以选择" class="sidebar-link">经过各种百度谷歌，最后有两种方案可以选择</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/meimei/pages/26c14e/#使用shell自动传输文件夹到服务器" class="sidebar-link">使用shell自动传输文件夹到服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#ftp安装和常用命令介绍" class="sidebar-link">ftp安装和常用命令介绍</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#linux安装vftp" class="sidebar-link">linux安装vftp</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#查看ftp安装是否成功" class="sidebar-link">查看ftp安装是否成功</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#查看ftp-服务器状态" class="sidebar-link">查看ftp 服务器状态</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#启动ftp服务器" class="sidebar-link">启动ftp服务器</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#重启ftp服务器" class="sidebar-link">重启ftp服务器</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#查看服务有没有启动" class="sidebar-link">查看服务有没有启动</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#如果需要开启root用户的ftp权限要修改以下两个文件" class="sidebar-link">如果需要开启root用户的ftp权限要修改以下两个文件</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#ftpusers和user-list文件详解" class="sidebar-link">ftpusers和user_list文件详解</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#安装lftp" class="sidebar-link">安装lftp</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#为啥要安装lftp" class="sidebar-link">为啥要安装lftp</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#安装步骤" class="sidebar-link">安装步骤</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#window" class="sidebar-link">window</a></li><li class="sidebar-sub-header level5"><a href="/meimei/pages/26c14e/#choco-安装" class="sidebar-link">choco 安装</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#linux" class="sidebar-link">linux</a></li><li class="sidebar-sub-header level5"><a href="/meimei/pages/26c14e/#linux下安装ftp的过程和使用的整体过程" class="sidebar-link">linux下安装FTP的过程和使用的整体过程</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#【linux】缺少service命令的解决办法" class="sidebar-link">【Linux】缺少service命令的解决办法</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#lftp-常用命令介绍" class="sidebar-link">lftp 常用命令介绍</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#shell-教程" class="sidebar-link">Shell 教程</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#shell使用ftp传输文件" class="sidebar-link">shell使用ftp传输文件</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#shell使用lftp传输文件夹" class="sidebar-link">shell使用lftp传输文件夹</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#shell源码" class="sidebar-link">shell源码：</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#解决ngxin-403" class="sidebar-link">解决ngxin 403：</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#使用node" class="sidebar-link">使用node</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#思路-2" class="sidebar-link">思路：</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#安装依赖" class="sidebar-link">安装依赖</a></li><li class="sidebar-sub-header level4"><a href="/meimei/pages/26c14e/#实例分析" class="sidebar-link">实例分析</a></li><li class="sidebar-sub-header level5"><a href="/meimei/pages/26c14e/#实现功能" class="sidebar-link">实现功能</a></li><li class="sidebar-sub-header level6"><a href="/meimei/pages/26c14e/#定义调用方式" class="sidebar-link">定义调用方式</a></li><li class="sidebar-sub-header level5"><a href="/meimei/pages/26c14e/#js源码" class="sidebar-link">js源码：</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#node-自动打包遗留问题" class="sidebar-link">node 自动打包遗留问题</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#结束语" class="sidebar-link">结束语</a></li><li class="sidebar-sub-header level3"><a href="/meimei/pages/26c14e/#参考资料" class="sidebar-link">参考资料</a></li></ul></li></ul></li><li><a href="/meimei/pages/8729f4/" class="sidebar-link">jenkins自动打包前端代码并发布到测试或者生产</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网易</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>brower</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/meimei/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/meimei/categories/?category=web" title="分类" data-v-06225672>web</a></li><li data-v-06225672><a href="/meimei/categories/?category=deploy" title="分类" data-v-06225672>deploy</a></li><li data-v-06225672><a href="/meimei/categories/?category=Jenkins" title="分类" data-v-06225672>Jenkins</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/qinyuanqiblog" target="_blank" title="作者" class="beLink" data-v-06225672>qinyuanqi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-04-25</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">vue自动部署项目到服务器<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="想要的功能"><a href="#想要的功能" class="header-anchor">#</a> 想要的功能</h2> <ul><li><p>前端打包之后自动上传文件夹到服务器</p></li> <li><p>在不提交代码的前提下，也可以完成上述功能</p></li></ul> <h3 id="经过各种百度谷歌-最后有两种方案可以选择"><a href="#经过各种百度谷歌-最后有两种方案可以选择" class="header-anchor">#</a> 经过各种百度谷歌，最后有两种方案可以选择</h3> <ul><li><p>第一种是写一个shell，通过lftp上传文件夹，但是会有个权限的问题，需要更改nginx配置才可以解决</p></li> <li><p>第二种就是使用node来实现，个人推荐使用这个</p></li> <li><p>第三种就是jenkins, 但是我又不想提交代码，不满足，放弃</p></li></ul> <h2 id="使用shell自动传输文件夹到服务器"><a href="#使用shell自动传输文件夹到服务器" class="header-anchor">#</a> 使用shell自动传输文件夹到服务器</h2> <h3 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h3> <ul><li><p>1. 安装lftp</p></li> <li><p>2. 编写shell脚本自动传输文件夹到服务器</p></li> <li><p>3. lftp 传输文件成功之后会访问目录会报一个ngxin 403的权限错误，（如果说测试大佬不同意改ngxin配置的话， 那就放弃把）</p></li></ul> <h3 id="ftp安装和常用命令介绍"><a href="#ftp安装和常用命令介绍" class="header-anchor">#</a> ftp安装和常用命令介绍</h3> <h4 id="linux安装vftp"><a href="#linux安装vftp" class="header-anchor">#</a> linux安装vftp</h4> <p>rpm -qa | grep initscripts</p> <h4 id="查看ftp安装是否成功"><a href="#查看ftp安装是否成功" class="header-anchor">#</a> 查看ftp安装是否成功</h4> <p>which vsftpd</p> <h4 id="查看ftp-服务器状态"><a href="#查看ftp-服务器状态" class="header-anchor">#</a> 查看ftp 服务器状态</h4> <p>service vsftpd status</p> <h4 id="启动ftp服务器"><a href="#启动ftp服务器" class="header-anchor">#</a> 启动ftp服务器</h4> <p>service vsftpd start</p> <h4 id="重启ftp服务器"><a href="#重启ftp服务器" class="header-anchor">#</a> 重启ftp服务器</h4> <p>service vsftpd restart</p> <h4 id="查看服务有没有启动"><a href="#查看服务有没有启动" class="header-anchor">#</a> 查看服务有没有启动</h4> <p>netstat -an | grep 21 //默认端口为21</p> <p>tcp 0 0 0.0.0.0:21 0.0.0.0:* LISTEN</p> <p>如果看到以上信息，证明ftp服务已经开启。</p> <h4 id="如果需要开启root用户的ftp权限要修改以下两个文件"><a href="#如果需要开启root用户的ftp权限要修改以下两个文件" class="header-anchor">#</a> 如果需要开启root用户的ftp权限要修改以下两个文件</h4> <ul><li><p>vi /etc/vsftpd/ftpusers 中注释掉root</p></li> <li><p>vi /etc/vsftpd/user_list 中也注释掉root</p></li> <li><p>然后重新启动ftp服务 service vsftpd restart</p></li></ul> <h4 id="ftpusers和user-list文件详解"><a href="#ftpusers和user-list文件详解" class="header-anchor">#</a> ftpusers和user_list文件详解</h4> <p><a href="https://blog.csdn.net/bluishglc/article/details/42273197" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/bluishglc/article/details/42273197<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><img src="https://api2.mubu.com/v3/document_image/25821f99-e597-454f-98b7-18b8d117570d-2331693.jpg" alt="image"></li></ul> <h3 id="安装lftp"><a href="#安装lftp" class="header-anchor">#</a> 安装lftp</h3> <h4 id="为啥要安装lftp"><a href="#为啥要安装lftp" class="header-anchor">#</a> 为啥要安装lftp</h4> <p>ftp不可以传文件夹，lftp可以，lftp可以使用帐号密码登录</p> <h3 id="安装步骤"><a href="#安装步骤" class="header-anchor">#</a> 安装步骤</h3> <h4 id="window"><a href="#window" class="header-anchor">#</a> window</h4> <h5 id="choco-安装"><a href="#choco-安装" class="header-anchor">#</a> choco 安装</h5> <p>choco install lftp</p> <p><img src="https://api2.mubu.com/v3/document_image/ec7989c2-ca3b-4283-8d14-a655d84cecaa-2331693.jpg" alt="image"></p> <p>没有安装choco 请点下方链接，自己食用</p> <p><a href="https://chocolatey.org/install" target="_blank" rel="noopener noreferrer">https://chocolatey.org/install<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://api2.mubu.com/v3/document_image/141af53e-dd67-48ad-a44b-7b63a32b7e9d-2331693.jpg" alt="image"></p> <h4 id="linux"><a href="#linux" class="header-anchor">#</a> linux</h4> <h5 id="linux下安装ftp的过程和使用的整体过程"><a href="#linux下安装ftp的过程和使用的整体过程" class="header-anchor">#</a> linux下安装FTP的过程和使用的整体过程</h5> <p><a href="https://blog.csdn.net/lizexing1/article/details/79308961" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/lizexing1/article/details/79308961<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>第一步</p></li> <li><p><img src="https://api2.mubu.com/v3/document_image/a702d44f-2d3a-4349-968b-b39bf8c0f8b9-2331693.jpg" alt="image"></p></li> <li><p>第二步</p> <p><img src="https://api2.mubu.com/v3/document_image/be440f99-5513-43de-88ac-6d06fc643b6f-2331693.jpg" alt="image"></p></li> <li><p>第三步</p> <p><img src="https://api2.mubu.com/v3/document_image/adb93659-7171-4d3c-b938-64454426cf64-2331693.jpg" alt="image"></p></li></ul> <h4 id="【linux】缺少service命令的解决办法"><a href="#【linux】缺少service命令的解决办法" class="header-anchor">#</a> 【Linux】缺少service命令的解决办法</h4> <ul><li><p><a href="https://blog.csdn.net/imliuqun123/article/details/83340763" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/imliuqun123/article/details/83340763<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://api2.mubu.com/v3/document_image/a77b1f82-bcf7-4626-ace0-e37fd9369f6a-2331693.jpg" alt="image"></p></li></ul> <h4 id="lftp-常用命令介绍"><a href="#lftp-常用命令介绍" class="header-anchor">#</a> lftp 常用命令介绍</h4> <ul><li><p><a href="https://man.linuxde.net/lftp" target="_blank" rel="noopener noreferrer">https://man.linuxde.net/lftp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><img src="https://api2.mubu.com/v3/document_image/afe05090-3c5c-495d-97f6-d254b0f097db-2331693.jpg" alt="image"></p></li></ul> <h4 id="shell-教程"><a href="#shell-教程" class="header-anchor">#</a> Shell 教程</h4> <p><a href="https://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/linux/linux-shell.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>为啥要 ./<a href="http://qq.sh/" target="_blank" rel="noopener noreferrer">qq.sh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 这样执行， 好像有坑</p> <ul><li><img src="/img/bVbHBzW" alt="image.png"></li></ul> <h3 id="shell使用ftp传输文件"><a href="#shell使用ftp传输文件" class="header-anchor">#</a> shell使用ftp传输文件</h3> <p>请确保ftp服务已经开启，再做下面的操作</p> <p>新建一个qq.sh文件，大致就是是用ftp链接远程服务器，并传输一个zip文件
<img src="/img/bVbHBz9" alt="image.png">
shell源码：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token comment"># 出现异常不往直接报错</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>
<span class="token comment"># 打包</span>
<span class="token function">tar</span> <span class="token parameter variable">-czvf</span> social.zip social
<span class="token comment"># 远端服务器ip</span>
<span class="token assign-left variable">ip</span><span class="token operator">=</span><span class="token string">&quot;192.168.1.99&quot;</span>
<span class="token comment"># 部署到远程服务器的目录  自行更换</span>
<span class="token assign-left variable">remote</span><span class="token operator">=</span><span class="token string">&quot;/usr/abcd/&quot;</span>
<span class="token comment"># 帐号 自行更换</span>
<span class="token assign-left variable">userName</span><span class="token operator">=</span><span class="token string">&quot;admin&quot;</span>
<span class="token comment"># 密码 自行更换</span>
<span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token string">&quot;123456&quot;</span>
<span class="token comment"># 传输方式</span>
<span class="token assign-left variable">ftpFransferType</span><span class="token operator">=</span><span class="token string">&quot;binary&quot;</span>
<span class="token comment"># 传输的文件名</span>
<span class="token assign-left variable">ftpPutFileName</span><span class="token operator">=</span><span class="token string">&quot;social.zip&quot;</span>
<span class="token comment">#lcd 应该使用相对路径</span>
<span class="token comment">#格式：lcd [directory]</span>
<span class="token comment">#说明：directory 指定要更改的本地计算机上的目录。如果没有指定directory，将显示本地计算机中当前的工作目录</span>
<span class="token comment">#从本地向FTP批量上传文档</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-------------------------------------- 开始上传 <span class="token variable">${ftpPutFileName}</span> 文件--------------------------------------&quot;</span>
<span class="token function">ftp</span> <span class="token parameter variable">-v</span> -n<span class="token operator">&lt;&lt;</span><span class="token string">EOF
open <span class="token variable">$ip</span>
user <span class="token variable">$userName</span> <span class="token variable">$password</span>
<span class="token variable">$ftpFransferType</span>
cd <span class="token variable">$remote</span>
pwd
prompt
put <span class="token variable">$ftpPutFileName</span>
bye
EOF</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-------------------------------------- 上传 <span class="token variable">${ftpPutFileName}</span> 文件成功 --------------------------------------&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="shell使用lftp传输文件夹"><a href="#shell使用lftp传输文件夹" class="header-anchor">#</a> shell使用lftp传输文件夹</h3> <p>直接把文件夹丢到服务器</p> <p><img src="https://img.mubu.com/document_image/d3f36ecc-0161-4c2e-aaeb-f91f01064cf3-2331693.jpg" alt=""></p> <h4 id="shell源码"><a href="#shell源码" class="header-anchor">#</a> shell源码：</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#--------------------------------------------</span>
<span class="token comment"># 自动传输文件到不同环境</span>
<span class="token comment"># author：qinyuanqi</span>
<span class="token comment">#--------------------------------------------</span>
<span class="token comment">#出现异常不往下面走</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>
<span class="token comment"># SFTP配置信息</span>
<span class="token comment"># IP</span>
<span class="token assign-left variable">IP</span><span class="token operator">=</span><span class="token string">&quot;192.168.1.199&quot;</span>
<span class="token comment"># 端口</span>
<span class="token assign-left variable">PORT</span><span class="token operator">=</span><span class="token number">22</span>
<span class="token comment"># 用户名</span>
<span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span><span class="token string">&quot;user&quot;</span>
<span class="token comment"># 密码</span>
<span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span><span class="token string">&quot;password&quot;</span>
<span class="token comment"># 需要上传的文件所在目录</span>
<span class="token assign-left variable">CLIENTDIR</span><span class="token operator">=</span><span class="token string">'./social'</span>
<span class="token comment"># 上传到目标服务器的目录</span>
<span class="token assign-left variable">remote</span><span class="token operator">=</span><span class="token string">&quot;/usr/local/nginx/html/h5/&quot;</span>
<span class="token comment">#echo &quot;$IP---$USER--$PASSWORD&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> <span class="token variable">$CLIENTDIR</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$CLIENTDIR</span>  是一个文件夹&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$CLIENTDIR</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$CLIENTDIR</span>  是一个文件&quot;</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$CLIENTDIR</span> 不存在&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>x <span class="token operator">==</span> <span class="token string">&quot;test&quot;</span>x <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span>  <span class="token string">&quot;---- 准备传输 <span class="token variable">$CLIENTDIR</span> 文件到  ----测试环境&quot;</span>
<span class="token comment"># 这样传输到服务器，访问项目，nginx会报403，测试大佬说不能改nginx 配置，难搞哦，不知道怎么解决了</span>
<span class="token assign-left variable">IP</span><span class="token operator">=</span><span class="token string">&quot;192.168.1.166&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span><span class="token string">&quot;测试环境的用户&quot;</span>
<span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span><span class="token string">&quot;测试环境的密码&quot;</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span>  <span class="token string">&quot;---- 准备传输 <span class="token variable">$CLIENTDIR</span> 文件到  ----开发环境&quot;</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;---- 开始上传 <span class="token variable">${CLIENTDIR}</span> 文件 ----&quot;</span>
lftp <span class="token parameter variable">-u</span> <span class="token environment constant">$USER</span>,<span class="token variable">$PASSWORD</span> <span class="token variable">$IP</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF
cd <span class="token variable">${remote}</span>
mirror -R <span class="token variable">$CLIENTDIR</span>
by
EOF</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;---- 上传 <span class="token variable">${CLIENTDIR}</span> 文件成功 ----&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><blockquote><p>** lftp 传输文件成功之后，访问web程序会报一个ngxin 403的权限错误，（如果说测试大佬不同意改ngxin配置的话， 那就放弃把）**</p></blockquote> <h4 id="解决ngxin-403"><a href="#解决ngxin-403" class="header-anchor">#</a> 解决ngxin 403：</h4> <ul><li><p><a href="https://segmentfault.com/a/1190000007117542" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000007117542<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>1. 改ngxin配置，</p> <p><img src="https://img.mubu.com/document_image/713a7c43-1239-4fcd-86d8-0bcde480b41d-2331693.jpg" alt=""></p></li> <li><p>2. 重启ngxin</p></li></ul> <h3 id="使用node"><a href="#使用node" class="header-anchor">#</a> 使用node</h3> <h4 id="思路-2"><a href="#思路-2" class="header-anchor">#</a> 思路：</h4> <ul><li>使用node-ssh 来帮助我们实现自动部署</li></ul> <h4 id="安装依赖"><a href="#安装依赖" class="header-anchor">#</a> 安装依赖</h4> <p>package.json文件</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">&quot;chalk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;compressing&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.5.1&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;node-ssh&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.0.2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>npm install node-ssh --save-dev 传输文件夹</li> <li>npm install compressing --save-dev 压缩文件</li> <li>npm install chalk -save-dev 美化log</li></ul> <h4 id="实例分析"><a href="#实例分析" class="header-anchor">#</a> 实例分析</h4> <h5 id="实现功能"><a href="#实现功能" class="header-anchor">#</a> 实现功能</h5> <ul><li>开发环境和测试环境自动打包并传输文件</li> <li>生产环境自动生成压缩包</li></ul> <h6 id="定义调用方式"><a href="#定义调用方式" class="header-anchor">#</a> 定义调用方式</h6> <blockquote><p>调用方式 ，vue打包完成之后，删除soucemap文件，然后使用node 自动发布</p></blockquote> <ul><li><p><img src="https://img.mubu.com/document_image/78ff7b4e-4f62-414e-9560-74ad8bd03a26-2331693.jpg" alt=""></p></li> <li><p>定义配置
<img src="https://img.mubu.com/document_image/2512ab1e-c358-4266-bf6b-69a875cfc1ca-2331693.jpg" alt=""></p></li> <li><p>配置不同环境不同操作</p> <p><img src="https://img.mubu.com/document_image/da72bc01-e196-481f-a486-0fccb0bc1561-2331693.jpg" alt=""></p></li> <li><p>使用nodessh上传文件夹</p> <p><img src="https://img.mubu.com/document_image/662eba2e-c66d-4667-ac88-6f6d51d52f52-2331693.jpg" alt=""></p></li></ul> <h5 id="js源码"><a href="#js源码" class="header-anchor">#</a> js源码：</h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 开发和测试自动打包到对一个环境，生产自动打zip包，直接丢给领导上线</span>
<span class="token comment">//命令行颜色</span>
<span class="token keyword">const</span> chalk <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chalk'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> log <span class="token operator">=</span> console<span class="token punctuation">.</span>log
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token comment">// 连接传输到服务器插件</span>
<span class="token keyword">const</span> NodeSSH <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'node-ssh'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ssh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NodeSSH</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 取到node执行文件的参数，进行打包区分</span>
<span class="token keyword">const</span> argv <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// 引入压缩文件插件</span>
<span class="token keyword">const</span> compressing <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'compressing'</span><span class="token punctuation">)</span>
<span class="token comment">// 打包后的目录名称</span>
<span class="token keyword">const</span> buildDirName <span class="token operator">=</span> <span class="token string">'social'</span>
<span class="token comment">// 打包后文件的路径</span>
<span class="token keyword">const</span> distDir <span class="token operator">=</span> <span class="token string">'./'</span> <span class="token operator">+</span> buildDirName
<span class="token comment">// 打包后的压缩名称</span>
<span class="token keyword">const</span> distZipPath <span class="token operator">=</span> <span class="token string">'./'</span> <span class="token operator">+</span> buildDirName <span class="token operator">+</span> <span class="token string">'.zip'</span>
<span class="token comment">// 服务器配置</span>
<span class="token keyword">let</span> remoteConfig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// node deploy.js qq  取到qq来做判断，判断是那个环境，然后做不同的处理</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 开发环境的一些配置</span>
<span class="token keyword">case</span> <span class="token string">'dev'</span><span class="token operator">:</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token string">'----开始打包到开发环境----'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
remoteConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'开发服务器ip'</span><span class="token punctuation">,</span>
<span class="token comment">// 远程端口，默认是21</span>
<span class="token comment">// port:21</span>
<span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'开发服务器用户名'</span><span class="token punctuation">,</span>
<span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'开发服务器密码'</span><span class="token punctuation">,</span>
<span class="token literal-property property">remotePath</span><span class="token operator">:</span> <span class="token string">'服务器部署的地址'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token function">upload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">break</span>
<span class="token comment">// 测试环境的一些配置</span>
<span class="token keyword">case</span> <span class="token string">'test'</span><span class="token operator">:</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token string">'----开始打包到测试环境----'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
remoteConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'测试服务器ip'</span><span class="token punctuation">,</span>
<span class="token comment">// 远程端口，默认是21</span>
<span class="token comment">// port:21</span>
<span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'测试服务器用户名'</span><span class="token punctuation">,</span>
<span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'测试服务器密码'</span><span class="token punctuation">,</span>
<span class="token literal-property property">remotePath</span><span class="token operator">:</span> <span class="token string">'测试服务器部署地址'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token function">upload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">break</span>
<span class="token comment">// 生产环境就自动压缩文件，不做别的处理</span>
<span class="token keyword">case</span> <span class="token string">'production'</span><span class="token operator">:</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token string">'----生产环境----开始压缩文件----'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
compressing<span class="token punctuation">.</span>zip
<span class="token punctuation">.</span><span class="token function">compressDir</span><span class="token punctuation">(</span>distDir<span class="token punctuation">,</span> distZipPath<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">压缩 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>distZipPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 成功</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">压缩 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>distZipPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 失败</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">break</span>
<span class="token keyword">default</span><span class="token operator">:</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">keyword</span><span class="token punctuation">(</span><span class="token string">'orange'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'deploy走了没有处理的方式'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">break</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
*  上传文件到服务器
*  node 7.6 以上都支持 async 语法
*/</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> failed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> successful <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="token comment">// 连接服务器</span>
<span class="token keyword">await</span> ssh<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token literal-property property">host</span><span class="token operator">:</span> remoteConfig<span class="token punctuation">.</span>host<span class="token punctuation">,</span>
<span class="token literal-property property">username</span><span class="token operator">:</span> remoteConfig<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
<span class="token literal-property property">password</span><span class="token operator">:</span> remoteConfig<span class="token punctuation">.</span>password<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 刪除目录再上传</span>
<span class="token keyword">await</span> ssh<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">'rm -rf ../'</span> <span class="token operator">+</span> buildDirName<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">cwd</span><span class="token operator">:</span> remoteConfig<span class="token punctuation">.</span>remotePath <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 开始上传文件到远程指定目录下</span>
<span class="token keyword">await</span> ssh<span class="token punctuation">.</span><span class="token function">putDirectory</span><span class="token punctuation">(</span>distDir<span class="token punctuation">,</span> remoteConfig<span class="token punctuation">.</span>remotePath<span class="token punctuation">,</span> <span class="token punctuation">{</span>
<span class="token literal-property property">recursive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token literal-property property">concurrency</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
<span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">itemPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> baseName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>itemPath<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baseName<span class="token punctuation">)</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
baseName<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'.'</span> <span class="token operator">&amp;&amp;</span> baseName <span class="token operator">!==</span> <span class="token string">'node_modules'</span> <span class="token comment">// do not allow dot files</span>
<span class="token punctuation">)</span> <span class="token comment">// do not allow node_modules</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function-variable function">tick</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">localPath<span class="token punctuation">,</span> remotePath<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
failed<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>localPath<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
successful<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>localPath<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">'upload 上传失败，错误信息如下==&gt;'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token string">'传输完成'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token string">'传输成功文件数==&gt;'</span><span class="token punctuation">,</span> successful<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token string">'传输失败文件数==&gt;'</span><span class="token punctuation">,</span> failed<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 退出</span>
process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br></div></div><h3 id="node-自动打包遗留问题"><a href="#node-自动打包遗留问题" class="header-anchor">#</a> node 自动打包遗留问题</h3> <ul><li>多个项目，每个项目都要引入deploy.js文件，感觉有点难受，暂时没想到啥好方法。各位观众老爷，有啥好方案，带带我呗~</li></ul> <h3 id="结束语"><a href="#结束语" class="header-anchor">#</a> 结束语</h3> <ul><li>本文如有错误，欢迎指正，非常感谢</li> <li>觉得有用的老铁，点个双击，小红心走一波</li> <li>欢迎灌水，来呀，互相伤害哈 o(∩_∩)o 哈哈</li></ul> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <ul><li><a href="https://www.jianshu.com/p/2f4d6f71b4c8" target="_blank" rel="noopener noreferrer">ftp安装相关配置等<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/hider/p/10720895.html" target="_blank" rel="noopener noreferrer">ftp命令详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://blog.chinaunix.net/uid-21411227-id-1826769.html" target="_blank" rel="noopener noreferrer">ftp命令详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/bluishglc/article/details/42273197" target="_blank" rel="noopener noreferrer">ftpusers和user_list文件详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://man.linuxde.net/lftp" target="_blank" rel="noopener noreferrer">lftp常用命令<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/5dce6b2b5188254eee54d77a" target="_blank" rel="noopener noreferrer">vue自动发布<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000018729701" target="_blank" rel="noopener noreferrer">vue自动发布<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/04/25, 18:37:28</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/meimei/pages/6c49fd/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Jenkins 从安装到自动部署h5</div></a> <a href="/meimei/pages/8729f4/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">jenkins自动打包前端代码并发布到测试或者生产</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/meimei/pages/6c49fd/" class="prev">Jenkins 从安装到自动部署h5</a></span> <span class="next"><a href="/meimei/pages/8729f4/">jenkins自动打包前端代码并发布到测试或者生产</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/meimei/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/meimei/pages/003929/"><div>
            kindle 如何同步电子书
            <!----></div></a> <span class="date">04-26</span></dt></dl><dl><dd>02</dd> <dt><a href="/meimei/pages/d1fd8b/"><div>
            mySql 安装
            <!----></div></a> <span class="date">04-26</span></dt></dl><dl><dd>03</dd> <dt><a href="/meimei/pages/048356/"><div>
            steam双人手柄设置
            <!----></div></a> <span class="date">04-26</span></dt></dl> <dl><dd></dd> <dt><a href="/meimei/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:592644285@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/qinyuanqiblog" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/playlist?id=114520484" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2023
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/meimei/assets/js/app.7b2f78c7.js" defer></script><script src="/meimei/assets/js/2.970af444.js" defer></script><script src="/meimei/assets/js/29.c8db2e7a.js" defer></script>
  </body>
</html>
