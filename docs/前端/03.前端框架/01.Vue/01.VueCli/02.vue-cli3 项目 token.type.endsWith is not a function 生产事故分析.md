---
title: vue-cli3 é¡¹ç›® token.type.endsWith is not a function ç”Ÿäº§äº‹æ•…åˆ†æ
date: 2023-04-25 16:57:07
permalink: /pages/60287c/
categories:
  - web
  - frame
  - Vue
  - VueCli
tags:
  - 
---



## äº‹æ•…æè¿°

> ä¸€å›¾è§£åƒæ„
![äº‹æ•…å›¾ç‰‡](https://api2.mubu.com/v3/document_image/5e0327cb-f065-40cf-9117-cf814af1d9d0-2331693.jpg)

## äº‹æ•…é€ æˆçš„å½±å“

> ç”Ÿäº§ç¯å¢ƒæŸäº›é¡µé¢æ‰“ä¸å¼€ï¼Œæ§åˆ¶å°æŠ¥é”™ï¼Œé”™è¯¯ä¿¡æ¯ token.type.endsWith is not a function
![äº‹æ•…å›¾](https://api2.mubu.com/v3/document_image/4b68572d-8490-49a8-af91-7ad677b1b8c5-2331693.jpg)

## äº‹æ•…åŸå› åˆ†æ

* ä¸ºä»€ä¹ˆç”Ÿäº§ç¯å¢ƒå¼•å…¥è¿™ä¸ªåŒ…ï¼š@vue/cli-plugin-eslintï¼Ÿ
* token.type.endsWith is not a functionæŠ¥é”™çš„åŸå› æ˜¯ï¼Ÿ

### ä¸ºä»€ä¹ˆç”Ÿäº§ç¯å¢ƒå¼•å…¥è¿™ä¸ªåŒ…ï¼š@vue/cli-plugin-eslint

* å› ä¸ºæˆ‘ä»¬é¡¹ç›®çš„ lintOnSave çš„é…ç½®é»˜è®¤å°±æ˜¯true, å®˜ç½‘ä¹Ÿè¯´äº†ï¼Œ å¦‚æœæ˜¯trueçš„è¯ï¼Œ ä¼šå¯¼è‡´ç”Ÿäº§ä¹Ÿä¼šè¢«å¯ç”¨
![lintonSave](https://api2.mubu.com/v3/document_image/e9433c74-2734-4c15-8080-996ee8148492-2331693.jpg)

å½“å‰æˆ‘çš„é¡¹ç›®çš„é…ç½®åˆåˆšå¥½æ˜¯æŠŠlintOnSaveç»™å¼€å‡ºæ¥äº†ï¼ï¼ï¼ï¼

### token.type.endsWith is not a functionæŠ¥é”™çš„åŸå› æ˜¯

* è°·æ­ŒæŠŠæˆ‘æŒ‡å¼•åˆ°äº† eslint-plugin-vue çš„å®˜æ–¹issuesï¼Œå®˜æ–¹çš„å¤§ä½¬è¯´ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯babel-eslintçš„é—®é¢˜ï¼ï¼ï¼
![eslint-plugin-vue ç¤ºä¾‹å›¾](https://api2.mubu.com/v3/document_image/aa72f63d-7280-40db-a039-064026d0a13c-2331693.jpg)
![eslint-plugin-vue ç¤ºä¾‹å›¾](https://api2.mubu.com/v3/document_image/aa72f63d-7280-40db-a039-064026d0a13c-2331693.jpg)

#### token.type.endsWith is not a functionè§£å†³æ–¹æ¡ˆ

##### babel-eslint å˜æˆ8.2.2ç‰ˆæœ¬

> é™çº§babel-eslint,å®˜æ–¹babel-eslint 8.2.2 ç‰ˆæœ¬ä¹‹åå°±ä¿®å¤äº†ï¼Œ ä½†æ˜¯æˆ‘é¡¹ç›®çš„babel-eslintçš„ç‰ˆæœ¬æ˜¯10.0.1å•Šï¼Œä¸ºå•¥è¿˜ä¼šæœ‰é—®é¢˜ï¼Œæƒ³ä¸é€šï¼Œç½‘ä¸Šä¹Ÿç¢°åˆ°å¾ˆå¤šäººè¯´10.0.1çš„æœ‰ä¸€å †é—®é¢˜,åæ­£é™çº§åˆ°8.2.2å°±å¥½äº†

* babel-eslint å‡çº§åˆ°8.2.2  

```npm
  npm install -D babel-eslint@8.2.2
```

![](https://api2.mubu.com/v3/document_image/d4c1b831-9340-486f-ab8a-ee42015014b9-2331693.jpg)

##### å‡çº§ eslint-plugin-vue åˆ° 8.3.0

```npm
  npm install -D eslint-plugin-vue@8.3.0
```

![eslint-plugin-vueç¤ºä¾‹å›¾](https://api2.mubu.com/v3/document_image/938adc51-fc28-4280-9a0c-4e126cddd7d2-2331693.jpg)

### å¦‚ä½•é‡ç°è¿™ä¸ªbugï¼Ÿ

#### é¡¹ç›®èƒŒæ™¯

* åŸºäºè‹¥ä¾å‰åç«¯åˆ†ç¦»æ¨¡æ¿é‡Œé¢æ‹·è´å‡ºæ¥çš„é¡¹ç›®

> æ¦‚ç‡æ€§ï¼Œæˆ‘å‘ç°ä½¿ç”¨npm install æ¯”è¾ƒå®¹æ˜“å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘çš„é‡ç°æ­¥éª¤æ˜¯

* **1**  vue.config.js lintOnSave å˜æˆtrue
* **2**  å½“å‰é¡¹ç›®çš„ä¸€äº›ä¾èµ–ï¼Œä¸»è¦å°±æ˜¯babel-eslint 10.0.1 åœ¨windowä¸åŒç”µè„‘é‡Œé¢ï¼Œæœ‰çš„ç”µè„‘ï¼ŒåŒæ ·çš„ç‰ˆæœ¬å°±æ˜¯æŠ¥é”™ï¼ï¼
![å½“å‰é¡¹ç›®çš„é…ç½®](https://api2.mubu.com/v3/document_image/56c9f39b-45ba-4fbf-b56f-b540611f8a45-2331693.jpg)
* **3**  å¯åŠ¨æœåŠ¡ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹
![æŠ¥é”™ä¿¡æ¯](https://api2.mubu.com/v3/document_image/6dacea94-d304-4e8f-84a3-2586ef5183f9-2331693.jpg)
* **4**  æ‰“åŒ…é¡¹ç›®ï¼Œæ§åˆ¶å°ä¼šæŠ¥token.type.endsWith is not a functionï¼Œä½†æ˜¯æ‰“åŒ…æˆåŠŸï¼Œå‡ºç°è¿™ç§æƒ…å†µï¼Œå¦‚æœä½ ä¸æ³¨æ„ï¼Œå°±æŠŠåŒ…æ‰“ä¸Šå»ï¼Œæ­å–œä½ ï¼Œé¢†å–ç”Ÿäº§bugç¦åˆ©
![æŠ¥é”™ä¿¡æ¯](https://api2.mubu.com/v3/document_image/8dfd47d7-39a1-4ca2-ab26-37bcbd081b46-2331693.jpg)
* **5**  æœ‰é”™è¯¯çš„åŒ…ï¼Œç›´æ¥ä¸¢ç”Ÿäº§ï¼šé¡µé¢æ‰“ä¸å¼€ï¼Œæ§åˆ¶å°æŠ¥é”™ï¼Œä¸€è„¸æ‡µé€¼çš„ç¦åˆ©ğŸ˜„ğŸ˜„ğŸ˜„
![æŠ¥é”™ä¿¡æ¯](https://api2.mubu.com/v3/document_image/4b68572d-8490-49a8-af91-7ad677b1b8c5-2331693.jpg)

## äº‹æ•…è§£å†³æ–¹æ¡ˆ

*  vue.config.js ç”Ÿäº§ç¯å¢ƒæŠŠlintOnSave å…³æ‰ï¼Œå°±ç®—babel-eslint æŠ¥é”™ï¼Œ ä¹Ÿä¸ä¼šå¯¼è‡´é¡µé¢å¼€ä¸å‡ºæ¥

![](https://api2.mubu.com/v3/document_image/0620340d-2824-4430-9424-0e49fc34592a-2331693.jpg)

* é™ä½babel-eslintç‰ˆæœ¬ï¼Œæœç»å‡ºç°è¿™ç§é—®é¢˜ï¼Œ

## å¼•ç”³é—®é¢˜

* ä¸ºå•¥åŒæ ·çš„åŒ…ï¼Œä¸åŒwindowç”µè„‘ï¼Œå°±ä¼šæŠ¥é”™ï¼Ÿ

## ç»“æŸè¯­

* æœ¬æ–‡å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œéå¸¸æ„Ÿè°¢
* è§‰å¾—æœ‰ç”¨çš„è€é“ï¼Œç‚¹ä¸ªåŒå‡»ï¼Œå°çº¢å¿ƒèµ°ä¸€æ³¢
* æ¬¢è¿çŒæ°´ï¼Œæ¥å‘€ï¼Œäº’ç›¸ä¼¤å®³å“ˆ o(âˆ©_âˆ©)o å“ˆå“ˆ

## å‚è€ƒèµ„æ–™

* [TypeError: token.type.endsWith is not a function vue eslint é—®é¢˜è§£å†³](https://blog.csdn.net/qq_41011894/article/details/120793391)
* [vueé¡¹ç›®æ‰€æœ‰vueå¼•ç”¨æŠ¥token.type.endsWith is not a functioné”™è¯¯](https://zhuanlan.zhihu.com/p/426628743)
* [eslint-plugin-vue/issues](https://github.com/vuejs/eslint-plugin-vue/issues?q=token.type.endsWith+is+not+a+function)
