---
title: YApi å¯è§†åŒ–æ¥å£ç®¡ç†å¹³å° å†…ç½‘éƒ¨ç½²å°è®¡
date: 2023-04-25 16:53:50
permalink: /pages/709f8c/
categories:
  - web
  - practice
tags:
  - 
---


## 2022-09-22æ›´æ–° yapiåº”è¯¥æ˜¯ä¸ç»´æŠ¤äº†
>
> å¶ç„¶å›æƒ³èµ·è¿™ä¸ªyapiï¼Œç„¶åå»githubé‡Œé¢çœ‹çœ‹ä»–çš„åŠ¨æ€ï¼Œå´å‘ç°æœ€åä¸€æ¬¡æäº¤å°±æ¥æ˜¯2021å¹´10æœˆï¼Œæ„Ÿè§‰æ˜¯ä½œè€…æ²¡ç²¾åŠ›ç»´æŠ¤äº†ï¼Œåº”è¯¥æ˜¯æ”¾å¼ƒäº†ï¼Œissueä¹Ÿæ˜¯ä¸€åƒå¤šæ²¡è§£å†³ï¼Œæ„Ÿè§‰å‡‰å‡‰äº†ï¼Œè¿˜çˆ†å‡ºäº†å®‰å…¨é—®é¢˜ï¼Œå“ˆå“ˆï¼Œæœç„¶ä¸ºçˆ±å‘ç‚¹ä¸é•¿è¿œ

### å¸Œæœ›ä½ å¯ä»¥æ´»è¿‡æ¥æŠŠğŸ˜­ğŸ˜­ğŸ˜­

![å¸Œæœ›ä½ å¯ä»¥æ´»è¿‡æ¥æŠŠ](https://api2.mubu.com/v3/document_image/5839ede4-4150-4c3b-bb9b-fd14ba103f75-2331693.jpg)

* [yapiå®‰å…¨æ¼æ´é—®é¢˜](https://segmentfault.com/a/1190000040373724)

### æ›¿æ¢æ–¹æ¡ˆ
>
> æˆ‘è¿˜ç‰¹æ„å‘äº†ä¸ªé‚®ä»¶å»é—®äº†å¤§ä½¬ï¼Œæœ‰å¹¸å¤§ä½¬ä¹Ÿå›å¤äº†æˆ‘ï¼Œå¹¶æ¨èäº†æ–°çš„æ›¿æ¢æ–¹æ¡ˆï¼š

* æ¨èç”¨runapi å’Œshowdocç»„åˆä½¿ç”¨ï¼Œå¯ä»¥æ›¿ä»£yapi  [runapi/30291](https://www.showdoc.com.cn/runapi/30291)
* ![](https://api2.mubu.com/v3/document_image/6cf4037e-e25c-457d-9894-4430e81efc9c-2331693.jpg)
* è™½ç„¶yapiä¸ç»´æŠ¤äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ„Ÿè°¢ä»–ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å·¥å…·ï¼Œç¥ä»–è¶Šæ¥è¶Šå¥½~

## å‰è¨€  

* ä»¥å‰è¿˜æ˜¯æ ¹æ®åå°çš„swaggeræ‰‹å†™mockæ•°æ®ï¼Œè¢«è‡ªå·±è ¢å“­~ï¼Œæœ€è¿‘æœ‰ç‚¹æ—¶é—´äº†ï¼Œ å°±ç ”ç©¶äº†ä¸‹èƒ½ä¸èƒ½åŠ¨æ€çš„å»å¼„è¿™äº›mockæ•°æ®ï¼Œä¹‹åå°±æ‰¾åˆ°äº†yapiï¼Œæ„Ÿè§‰å¤§ä½¬å°±æ˜¯ç‰›é€¼å“ˆ  

* å®˜ç½‘è¯´æœ‰dockeréƒ¨ç½²çš„æ–¹å¼ï¼Œæˆ‘è¯•äº†ï¼Œ ä¸€ç›´ä¸è¡Œï¼Œæ‰€ä»¥å°±ç”¨äº†æ¯”è¾ƒè ¢çš„æ–¹æ³•ï¼Œæ‰‹åŠ¨å®‰è£…å„ç§ç¯å¢ƒ ğŸ˜ƒ  

* å·®ä¸å¤šå°±è¿™æ ·äº†ï¼Œæ—¥å¸¸bbç»“æŸ  

* [yapiå®˜ç½‘](http://github.com/YMFE/yapi)  

* æ„Ÿè°¢å»å“ªå„¿å‰ç«¯å›¢é˜Ÿçš„å¼€æºï¼Œå¤§ä½¬![](https://api2.mubu.com/v3/document_image/f3ffbf84-94da-4e2d-82c4-7eab777ca322-2331693.jpg)  

## å¤§çº²  

* å†…ç½‘éƒ¨ç½²  
* yapi å’Œswagger çš„ç»“åˆä½¿ç”¨  

* å†…ç½‘éƒ¨ç½²  

  * [å®˜ç½‘è¯´æ˜](http://hellosean1025.github.io/yapi/devops/index.html#%e5%ae%89%e8%a3%85)  

  * Windows æ‰‹åŠ¨å®‰è£… MongoDB  

    * ç¯å¢ƒè¦æ±‚![](https://api2.mubu.com/v3/document_image/1d2d96d7-8fa9-4ba6-9056-708d8d01a3dd-2331693.jpg)  

* å®‰è£…æ­¥éª¤  

  * è®¿é—® [https://www.mongodb.com/try/download/community](https://www.mongodb.com/try/download/community)![](https://api2.mubu.com/v3/document_image/a61d0cff-00b1-4ab6-8f2b-c831e22af110-2331693.jpg)  

* æ‰“å¼€å®‰è£…åŒ…å¼€æğŸ˜ƒ![](https://api2.mubu.com/v3/document_image/38ad2402-bb10-4af3-9c13-72b5cdb5e205-2331693.jpg)  

* ![](https://api2.mubu.com/v3/document_image/4046dd26-c498-4a96-aa12-567c6cf1a755-2331693.jpg)  

  * ![](https://api2.mubu.com/v3/document_image/114df668-cb0a-4fb6-9dac-4e9b790290dd-2331693.jpg)  

  * é€‰æ‹©å®‰è£…ä½ç½®![](https://api2.mubu.com/v3/document_image/63991b08-af55-4784-9a4a-981f11a35aa5-2331693.jpg)  

  * ![](https://api2.mubu.com/v3/document_image/7657cf4d-7054-451f-81ed-b3272c34539a-2331693.jpg)  

  * ![](https://api2.mubu.com/v3/document_image/b94422ab-dced-4d78-a989-bb0f83c39ee2-2331693.jpg)  

  * ![](https://api2.mubu.com/v3/document_image/cbf6cdb6-5901-4c72-8e1c-9680f485f0ed-2331693.jpg)  

  * è€å¿ƒç­‰å¾…ï¼Œä¸­é€”ä¼šè¦ä¸ªæƒé™ï¼Œç»™ä»–å°±æ˜¯äº†![](https://api2.mubu.com/v3/document_image/ffe49ed9-c418-4e6c-b241-0e92e4a8590f-2331693.jpg)  

  * å®‰è£…å®Œæ¯•![](https://api2.mubu.com/v3/document_image/02cb0495-dd44-4569-903d-fcbfcf29ab28-2331693.jpg)  

  * åˆ›å»ºæ•°æ®åº“å’Œè´¦æˆ·ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ç»™yapiéƒ¨ç½²ä½¿ç”¨ï¼ˆå…¶å®å¯ä»¥ä¸ç”¨åšè¿™ä¸€æ­¥ï¼Œæˆ‘åœ¨linuxéƒ¨ç½²çš„æ—¶å€™å°±æ²¡æï¼Œç…§æ ·è·‘å¾—èµ·æ¥ å“ˆå“ˆï¼‰  

    * ç‚¹å¼€è¿™ä¸ªæ–‡ä»¶![](https://api2.mubu.com/v3/document_image/18e7cd93-9bc5-42a5-bb37-b6f993c98f1d-2331693.jpg)  

    * æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“  
      * show dbs![](https://api2.mubu.com/v3/document_image/061b8030-251a-471e-b642-cffb25af6199-2331693.jpg)  

    * use \[æ•°æ®åº“åç§°\] æœ‰å°±ç›´æ¥åˆ‡æ¢ï¼Œæ²¡æœ‰å°±ç»™ä½ åˆ›å»ºä¸€ä¸ª![](https://api2.mubu.com/v3/document_image/fcf64aed-26b1-47fc-bc6e-de27ef5d07b4-2331693.jpg)  

    * æŸ¥çœ‹å½“å‰æ•°æ®åº“  
      * db  

    * åˆ é™¤æŸä¸ªæ•°æ®åº“  

      * use \[è¦åˆ é™¤çš„æ•°æ®åº“\]  

      * db.dropDatabase()  

    * åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ç®¡ç†å‘˜è´¦æˆ·  
      * db.createUser({user: "admin",pwd: "123456",roles: \[ { role: "userAdminAnyDatabase", db: "admin"}\]})  

  * æ•°æ®åº“å·¥å…·ï¼š  
    * [Navicat Premium 15 æ°¸ä¹…ç ´è§£æ¿€æ´»](http://my.oschina.net/u/4405407/blog/4271799#comments)  

    *   Linuxç¯å¢ƒæ­å»º  
        
        *   ç¯å¢ƒå‡†å¤‡  
            
            *   æŸ¥çœ‹ç³»ç»Ÿå‘½ä»¤ï¼šcat /proc/version  
                
            
            *   æˆ‘æœ¬æœºçš„ç‰ˆæœ¬ï¼šLinux version 2.6.32-696.el6.x86\_64 (mockbuild@[c1bm.rdu2.centos.org](http://c1bm.rdu2.centos.org/)) (gcc version 4.4.7 20120313 (Red Hat 4.4.7-18) (GCC) ) #1 SMP Tue Mar 21 19:29:05 UTC 2017  
                
            
            *   æ“ä½œç³»ç»Ÿï¼šcentos 7  
                
            
            *   nodejs>7.6  
                
            
            *   mongodb>2.6  
                
            
            *   git  
                
        
        *   å®‰è£…nodejs  
            
            *   1\. è·å–èµ„æºï¼ˆéƒ¨ç½²nodejså°½å¯èƒ½é€‰æ‹©å¶æ•°ç‰ˆæœ¬ï¼Œå› ä¸ºå¶æ•°ç‰ˆæœ¬å®˜æ–¹æœ‰è¾ƒé•¿çš„ç»´æŠ¤æ—¶é—´ï¼Œæ•…è¿™æ¬¡é€‰æ‹©8.xã€‚ï¼‰éšä¾¿è£…ï¼Œ æˆ‘è£…çš„æ˜¯10çš„ç‰ˆæœ¬  
                *   curl -sL [https://rpm.nodesource.com/setup\_8.x](https://rpm.nodesource.com/setup_8.x) | bash -  
                    
            
            *   2. å®‰è£…  
                *   yum install -y nodejs  
                    
            
            *   3. æŸ¥çœ‹ç‰ˆæœ¬  
                *   node -v  
                    
            
            *   4. æŸ¥çœ‹npmç‰ˆæœ¬  
                *   npm -v  
                    
        
        *   å®‰è£…mongodb  
            
            *   1. æ›´æ–°yumæºï¼Œéå¿…é¡»ä½†æ˜¯æ›´æ–°ä¸€ä¸‹æ— å®³  
                *   yum -y update  
                    
            
            *   2. æ·»åŠ mongodbæºæ–‡ä»¶ï¼Œåœ¨/etc/yum.repos.d åˆ›å»ºä¸€ä¸ª mongodb-org.repo æ–‡ä»¶  
                *   touch /etc/yum.repos.d/mongodb-org.repo  
                    
            
            *   3. ç¼–è¾‘mongodb-org.repoæ–‡ä»¶  
                *   vim /etc/yum.repos.d/mongodb-org.repo  
                    
            
            *   4. æ·»åŠ æ–‡ä»¶å†…å®¹  
                
                *   è¦è¿™ç§å½¢å¼çš„ï¼Œå¹•å¸ƒä¸æ”¯æŒMarkdown æ¶å¿ƒå“¦![](https://api2.mubu.com/v3/document_image/e28e12df-8e3a-4513-b442-fc40dcdccb34-2331693.jpg)  
                    
                
                *   \[mongodb\-org\]  
                    
                
                *   name\=MongoDB Repository  
                    
                
                *   baseurl\=[http://mirrors.aliyun.com/mongodb/yum/redhat/7Server/mongodb-org/3.2/x86\_64/](http://mirrors.aliyun.com/mongodb/yum/redhat/7Server/mongodb-org/3.2/x86_64/)  
                    
                
                *   gpgcheck=0  
                    
                
                *   enabled=1  
                    
                
                *   å¦‚æœä½ ä¹Ÿæ˜¯åœ¨ç¬¬å››æ­¥å¡äº†ï¼Œæ— æ³•ç»§ç»­å®‰è£…ï¼Œ[å¯ä»¥å‚è€ƒ](http://stackoverflow.com/questions/34725574/yum-install-mongodb-3-2-fails)  
                    
                
                *   [https://stackoverflow.com/questions/34725574/yum-install-mongodb-3-2-fails](https://stackoverflow.com/questions/34725574/yum-install-mongodb-3-2-fails) æˆ‘ç”¨äº†ä¸‹å›¾çš„æ–¹å¼ æå®š![](https://api2.mubu.com/v3/document_image/feb04702-227e-43ea-98a5-299c59e21c9f-2331693.jpg)  
                    
                    *   1\. æ›´æ”¹æº  
                        
                        *   \[mongodb\-org\-3.6\]  
                            
                        
                        *   name\=MongoDB Repository  
                            
                        
                        *   baseurl\=[https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/3.6/x86\_64/](https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/3.6/x86_64/)  
                            
                        
                        *   gpgcheck=1  
                            
                        
                        *   enabled=1  
                            
                        
                        *   gpgkey=[https://www.mongodb.org/static/pgp/server-3.6.asc](https://www.mongodb.org/static/pgp/server-3.6.asc)  
                            
                    
                    *   2\. é‡æ–°å®‰è£…   
                        *   sudo yum install \-y mongodb\-org  
                            
                
                *   [Error starting mongod. /var/run/mongodb/mongod.pid existsè§£å†³æ–¹æ¡ˆ.](http://www.cnblogs.com/zmoumou/p/10303792.html)![](https://api2.mubu.com/v3/document_image/97dbfb4d-2b28-427b-9339-e7fd169c2d3f-2331693.jpg)  
                    
            
            *   5. å®‰è£…mongodb  
                *   yum install -y mongodb-org  
                    
            
            *   6. å¯åŠ¨mongodb  
                *   service mongod start  
                    
            
            *   7. è®¾ç½®å¼€æœºå¯åŠ¨  
                *   chkconfig mongod on  
                    
            
            *   8. æŸ¥æ‰¾mongod.confæ–‡ä»¶  
                
                *   ps -ax | grep mongod![](https://api2.mubu.com/v3/document_image/33580516-2c92-4bf7-9b93-7c1ae97d06a0-2331693.jpg)  
                    
                
                *   [æŸ¥è¯¢mongodbçš„æ•°æ®åº“å­˜æ”¾è·¯å¾„](http://blog.csdn.net/heiyouhei123/article/details/82660102)  
                    
            
            *   9. é…ç½®è¿œç¨‹è®¿é—®  
                
                *   ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿ç›´æ¥ä½¿ç”¨æ•°æ®åº“å·¥å…·è¿æ¥æ•°æ®åº“  
                    
                
                *   vim/etc/mongod.conf![](https://api2.mubu.com/v3/document_image/4dc573f0-a4f6-487b-8330-24f54921792b-2331693.jpg)  
                    
                
                *   é‡å¯mongod  
                    *   service mongod restart  
                        
        
        *   å®‰è£…git  
            *   å®˜æ–¹æ¨èï¼Œåœ¨å†…ç½‘éƒ¨ç½²çš„æ—¶å€™å®‰è£…gitï¼Œå¯ä»¥æ ¹æ®è‡ªå·±æ‰€éœ€å®‰è£…  
                *   yum -y install git  
                    
    
    *   æ­å»ºYApiç¯å¢ƒ  
        
        *   1. å‡†å¤‡ç¯å¢ƒæ­å»ºå®Œæˆåï¼Œå¼€å§‹æ­å»ºYApi,å®‰è£…å‘½ä»¤  
            
            *   npm install \-g yapi\-cli \--registry [https://registry.npm.taobao.org](https://registry.npm.taobao.org/)  
                
            
            *   yapi server  
                
            
            *   å®ä¾‹æˆªå›¾ï¼š  
                *   ![](https://api2.mubu.com/v3/document_image/d4fb3559-574f-47e7-afa5-57ba6acdf6c3-2331693.jpg)  
                    
        
        *   2. æ‰§è¡Œ yapi server å¯åŠ¨å¯è§†åŒ–éƒ¨ç½²ç¨‹åºï¼Œæµè§ˆå™¨æ‰“å¼€æç¤ºçª—å£ä¸Šçš„åœ°å€ï¼Œéæœ¬åœ°æœåŠ¡å™¨ï¼Œå°†[0.0.0.0](http://0.0.0.0/)æ›¿æ¢æŒ‡å®šçš„åŸŸåæˆ–IPï¼Œè¿›å…¥éƒ¨ç½²é¡µé¢ã€‚ä¾‹å¦‚ï¼š[http://127.0.0.1:9090/](http://127.0.0.1:9090/)![](https://api2.mubu.com/v3/document_image/c4276e52-91ac-44f0-8123-a62f4de6a595-2331693.jpg)  
            
        
        *   ![](https://api2.mubu.com/v3/document_image/c2110f7c-556f-46c7-b6e7-31bbac58194e-2331693.jpg)  
            
        
        *   çœ‹åˆ°è¿™ä¸ªæç¤ºè¯´æ˜å·²ç»éƒ¨ç½²æˆåŠŸäº†ï¼Œ 9090ç«¯å£å¯ä»¥å…³é—­äº†![](https://api2.mubu.com/v3/document_image/61258aa8-67aa-4780-9984-b4ac50360548-2331693.jpg)  
            
        
        *   æç¤ºè¯´è®©æˆ‘ä»¬åˆ‡æ¢åˆ°éƒ¨ç½²è·¯å¾„ï¼Œæ‰§è¡Œç›¸å…³å‘½ä»¤~![](https://api2.mubu.com/v3/document_image/8ed5c038-a8a3-4cdb-8cec-6fc021a248d5-2331693.jpg)  
            
        
        *   æ‰§è¡Œç›¸å…³å‘½ä»¤ï¼Œå°±å¯ä»¥ç”¨äº†![](https://api2.mubu.com/v3/document_image/ed4c6dfc-1471-496d-bec1-77d8fa4606d1-2331693.jpg)  
            
            *   node vendors/server/app.js  
                
            
            *   è®¿é—®ï¼š[http://127.0.0.1:3000/](http://127.0.0.1:3000/)  
                
            
            *   ç»ˆäºå‡ºæ¥äº†ï¼Œ ç¾æ»‹æ»‹~![](https://api2.mubu.com/v3/document_image/0a11148f-a49b-4248-bd81-50b4087b2c10-2331693.jpg)  
                
    
    *   yapiæœåŠ¡ç®¡ç†  
        *   åˆ©ç”¨pm2æ–¹ä¾¿æœåŠ¡ç®¡ç†ç»´æŠ¤  
            
            *   npm install pm2 -g //å®‰è£…pm2  
                
            
            *   cd {é¡¹ç›®ç›®å½•}  
                
            
            *   pm2 start "vendors/server/app.js" --name yapi //pm2ç®¡ç†yapiæœåŠ¡  
                
            
            *   pm2 info yapi //æŸ¥çœ‹æœåŠ¡ä¿¡æ¯  
                
            
            *   pm2 stop yapi //åœæ­¢æœåŠ¡  
                
            
            *   pm2 restart yapi //é‡å¯æœåŠ¡  
                
    
    *   yapi å‡çº§ç®¡ç†  
        *   å‡çº§  
            
            *   å‡çº§é¡¹ç›®ç‰ˆæœ¬æ˜¯éå¸¸å®¹æ˜“çš„ï¼Œå¹¶ä¸”ä¸ä¼šå½±å“å·²æœ‰çš„é¡¹ç›®æ•°æ®ï¼Œåªä¼šåŒæ­¥ vendors ç›®å½•ä¸‹çš„æºç æ–‡ä»¶  
                
            
            *   cd {é¡¹ç›®ç›®å½•}  
                
            
            *   yapi ls //æŸ¥çœ‹ç‰ˆæœ¬å·åˆ—è¡¨  
                
            
            *   yapi update //æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬  
                
            
            *   yapi update -v {Version} //æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬  

* yapi å’Œswagger çš„ç»“åˆä½¿ç”¨

  * å®˜ç½‘çš„è¯´æ˜ï¼Œè®°å¾—çœ‹çœ‹å“ˆ  
    * [https://hellosean1025.github.io/yapi/documents/project.html#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83](https://hellosean1025.github.io/yapi/documents/project.html#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83)  

  * åˆ›å»ºä¸€ä¸ªé¡¹ç›®é¡¹ç›®  

    * æ³¨å†Œä¸€ä¸ªå¸å·![](https://api2.mubu.com/v3/document_image/392d4ec1-e629-4a93-b3a4-0f885ef57708-2331693.jpg)  

    * åˆ›å»ºä¸€ä¸ªé¡¹ç›®![](https://api2.mubu.com/v3/document_image/906d762a-2eb3-4d77-ae49-cd464de2ef73-2331693.jpg)  

    * ![](https://api2.mubu.com/v3/document_image/ecba9b53-e0d3-422f-8ef8-b502b6de9f1a-2331693.jpg)  

  * swaggerçš„è®¾ç½®  

    * åˆ‡æ¢åˆ°swaggerçš„åŒæ­¥è®¾ç½®![](https://api2.mubu.com/v3/document_image/400c7717-5f02-4741-a0cc-a1b1e116d209-2331693.jpg)  

    * æ‰¾åˆ°åå°çš„åœ°å€ï¼š è¾“å…¥ä¸Šé¢ï¼Œç„¶åç‚¹ä¿å­˜ï¼Œä¹‹åå°±è€å¿ƒç­‰å¾…2åˆ†é’Ÿä¹‹åï¼Œyapiä¼šè‡ªåŠ¨åŒæ­¥![](https://api2.mubu.com/v3/document_image/3e634919-5495-408f-a75b-c56576214365-2331693.jpg)  

    * å¦‚æœå‡ºç°è¿™ç§é”™è¯¯ï¼Œä¸ç”¨ç†ä¼šï¼Œå¤šç‚¹ä¸¤ä¸‹ ä»–å°±ä¼šå¥½äº†![](https://api2.mubu.com/v3/document_image/276b6032-991f-40ba-a056-fff4ca2029a0-2331693.jpg)  

    * æˆåŠŸè§¦å‘yapiçš„åŒæ­¥ä»»åŠ¡![](https://api2.mubu.com/v3/document_image/79479d3a-4dd5-400c-93b9-6141db25f3b1-2331693.jpg)  

    * æˆåŠŸåŒæ­¥è¿‡æ¥ï¼Œå¦‚æœåŒæ­¥çš„ä¸ç†æƒ³ï¼Œ å°±æŠŠswaggerçš„åŒæ­¥è®¾ç½®æ”¹æˆå…¨éƒ¨è¦†ç›–å°±å¥½äº†![](https://api2.mubu.com/v3/document_image/5b6d760e-ccbd-4b75-a542-61cf3c3b8e85-2331693.jpg)  

  * é›†æˆåˆ°ä¸šåŠ¡ç³»ç»Ÿ  

    * è®¾ç½®è¯·æ±‚ä¸Šä¸‹æ–‡  

      * æ‰¾åˆ°ä¸Šä¸‹æ–‡ï¼Œé…ç½®mockæ•°æ®ï¼Œ æŠŠè¿™ä¸ªåœ°å€ï¼Œæ”¾åˆ°åå‘ä»£ç†çš„è®¾ç½®é‡Œé¢å»ï¼Œå°±ä¼šæœ‰æ•°æ®äº†  

      * ![](https://api2.mubu.com/v3/document_image/d49c563e-c000-43e1-8626-cbaed0d063f5-2331693.jpg)  

      * è¿™äº›å€¼å°±éƒ½æ˜¯yapi å¸®æˆ‘ä»¬mockçš„æ•°æ®äº†ï¼Œå¼€å¿ƒ~~å†ä¹Ÿä¸ç”¨å†™mockæ•°æ®äº†ï¼Œä»¥å‰è‡ªå·±å¥½è ¢ ğŸ˜ƒ![](https://api2.mubu.com/v3/document_image/4e8a40a4-951a-490d-aa4c-2e1aad20a052-2331693.jpg)  

    * æ¥å£é¡µé¢ç›¸å…³è¯´æ˜  
      * ![](https://api2.mubu.com/v3/document_image/6616cae1-92cd-4996-abef-0b94c2b495b6-2331693.jpg)  

    * è¯·æ±‚é…ç½®ï¼Œè‡ªå®šä¹‰è¯·æ±‚å¤´å’Œè¿”å›å€¼  

      * å®˜æ–¹çš„è¯´æ˜  

        * [https://hellosean1025.github.io/yapi/documents/project.html#%E8%AF%B7%E6%B1%82%E9%85%8D%E7%BD%AE](https://hellosean1025.github.io/yapi/documents/project.html#%E8%AF%B7%E6%B1%82%E9%85%8D%E7%BD%AE)![](https://api2.mubu.com/v3/document_image/3a1f46ef-a3e0-469e-b90b-d188b2ae43e1-2331693.jpg)  

        * ![](https://api2.mubu.com/v3/document_image/b472a442-f04e-4044-9ef2-ce3ec3eddec9-2331693.jpg)  

      * ä½ å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®1.è¯·æ±‚å¤´ 2.æ ¹æ®ä¸åŒçŠ¶æ€ï¼Œè¿”å›ä¸åŒçš„æ•°æ®æ ¼å¼ç­‰![](https://api2.mubu.com/v3/document_image/af4c8d88-ea59-4593-875f-578ae69e391a-2331693.jpg)  

      * è®¾ç½®è¯·æ±‚å¤´  
        * context.requestHeader.ergouzi=66666![](https://api2.mubu.com/v3/document_image/ed466246-cdf7-43b2-80dc-5db38b4f6756-2331693.jpg)  

      * è®¾ç½®è¿”å›å€¼  

        * å®˜ç½‘è¯´æ˜  

          * [https://hellosean1025.github.io/yapi/documents/adv\_mock.html#%E8%87%AA%E5%AE%9A%E4%B9%89-mock-%E8%84%9A%E6%9C%AC](https://hellosean1025.github.io/yapi/documents/adv_mock.html#%E8%87%AA%E5%AE%9A%E4%B9%89-mock-%E8%84%9A%E6%9C%AC)![](https://api2.mubu.com/v3/document_image/dad4cf1c-43d3-4f56-9e80-220fc28fc87b-2331693.jpg)  

          * ![](https://api2.mubu.com/v3/document_image/ffbc5106-7c24-459b-be69-3f1dc2356558-2331693.jpg)  

          * ![](https://api2.mubu.com/v3/document_image/7c3521dc-c0ab-4599-8434-99f7895841b7-2331693.jpg)  

        * å®é™…ä½¿ç”¨ï¼šé»˜è®¤æ‰€æœ‰æ¥å£éƒ½æ˜¯okçš„ï¼Œæˆ‘ä»¬å’Œåå°çº¦å®šè¿”å›çš„æ•°æ®æ ¼å¼æ˜¯ {data:xxx,resultCode:xxx} æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨data é‡Œé¢ï¼ŒresultCode ä¸º1 è¡¨ç¤ºè¯·æ±‚æˆåŠŸ  

          * mockJson.resultCode=1![](https://api2.mubu.com/v3/document_image/3571804f-53a0-4666-b239-688da33efd1a-2331693.jpg)  

          * è®¾ç½®ç”Ÿæ•ˆï¼Œ ä¹‹å‰çš„éšæœºæ•°å˜æˆäº†1 æå®šæ”¶æ‘Š![](https://api2.mubu.com/v3/document_image/8bcaab23-4c7e-4024-9beb-1a776ae91b3d-2331693.jpg)  

        *

    * æ¥å£ --- ç¼–è¾‘é¡µé¢ä»‹ç»  

      * ![](https://api2.mubu.com/v3/document_image/d0178853-2d59-4ac7-84dd-7b0cd36cca46-2331693.jpg)  

      * ä¾‹å­1ï¼šæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„å¹´é¾„å­—æ®µé»˜è®¤éšæœºæ˜¯ä¸€ä¸ªè´Ÿæ•°ï¼Œå…¶å®å’ŒçœŸå®æ•°æ®ç›¸å·®è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œæˆ‘ä»¬çœŸå®çš„ä¸–ç•Œé‡Œé¢èƒ½æ´»åˆ°100å²å°±å¾ˆç‰›é€¼äº†ï¼Œçœ‹çœ‹æ€ä¹ˆè®¾ç½®  

        * ![](https://api2.mubu.com/v3/document_image/a197a54b-99cd-4a29-a005-f5f1cdcde108-2331693.jpg)  

        * ![](https://api2.mubu.com/v3/document_image/a1c11c86-f393-4f3d-a1b1-c30ffe018be7-2331693.jpg)  

        * å¯ä»¥ç›´æ¥ç‚¹é¢„è§ˆçœ‹æ•ˆæœï¼Œå¦‚ä¸‹æƒ³å†ä¸šåŠ¡ç³»ç»Ÿé‡Œé¢çœ‹æ•ˆæœï¼Œè®°å¾—ç‚¹ä¿å­˜æŒ‰é’®ï¼Œä¸ç„¶ä¸ç”Ÿæ•ˆï¼![](https://api2.mubu.com/v3/document_image/470c0ef1-5c4d-4658-b787-27a3a3fce465-2331693.jpg)  

      * ä¾‹å­2ï¼š auditStatus è¡¨ç¤ºå®¡æ ¸çŠ¶æ€ï¼Œå®¡æ ¸çŠ¶æ€ä¼šæœ‰å¾ˆå¤šä¸ªï¼Œ æˆ‘ä»¬æƒ³çœ‹å¤šä¸ªå®¡æ ¸çŠ¶æ€æ€ä¹ˆæå‘¢

        * ![](https://api2.mubu.com/v3/document_image/9920b004-7537-4933-9339-5a9012f8acbe-2331693.jpg)  

        * è®¾ç½®![](https://api2.mubu.com/v3/document_image/7ae5fd0d-f9fd-4d8e-bdb8-107485276744-2331693.jpg)  

        * æ•ˆæœ![](https://api2.mubu.com/v3/document_image/7f382c6b-aebd-4ff4-aebc-702692656428-2331693.jpg)  

        * ä»–ä¼šåœ¨æˆ‘ä»¬åˆšæ‰çš„æšä¸¾é‡Œé¢ï¼Œéšæœºå–ä¸€ä¸ª![](https://api2.mubu.com/v3/document_image/53d12310-27fe-4c0f-9e10-5ad379f01a94-2331693.jpg)  

    * æ¥å£ --- è¿è¡Œé¡µé¢ä»‹ç»  

      * cross-request æ’ä»¶  

        * [æ€ä¹ˆå®‰è£…è¯·è®¿é—®](https://juejin.im/post/6844903795743260685)

        * [cross-request è¢«å®˜æ–¹ä¸‹æ¶åçš„æ’ä»¶å®‰è£…æ–¹æ³•](http://github.com/YMFE/yapi/issues/1603)  

      * ![](https://api2.mubu.com/v3/document_image/a03d79aa-7339-45c1-868d-6afd10268c25-2331693.jpg)  

      * æ·»åŠ ç¯å¢ƒ  

        * ![](https://api2.mubu.com/v3/document_image/43290ed2-dbed-4e98-b4f9-a32df4e6e816-2331693.jpg)  

        * æ·»åŠ ä½ éœ€è¦çš„ç¯å¢ƒå¹¶ä¿å­˜ï¼Œä¹‹åå°±éšä¾¿è°ƒç”¨äº†ï¼Œ cross-request ä¼šå¸®ä½ å¤„ç†è·¨åŸŸï¼Œä½œè€…è¯´åªæœ‰httpsçš„åœ¨networkæ‰çœ‹ä¸åˆ°è¯·æ±‚ï¼Œ æˆ‘httpçš„ä¹Ÿçœ‹ä¸åˆ°ï¼Œä¸çŸ¥é“ä»€ä¹ˆé¬¼![](https://api2.mubu.com/v3/document_image/523135b9-91a4-4c4f-bac7-cdee4e7196fa-2331693.jpg)  

* ç»“æŸè¯­  

  * æœ¬æ–‡å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œéå¸¸æ„Ÿè°¢  

  * è§‰å¾—æœ‰ç”¨çš„è€é“ï¼Œç‚¹ä¸ªåŒå‡»ï¼Œå°çº¢å¿ƒèµ°ä¸€æ³¢  

  * æ¬¢è¿çŒæ°´ï¼Œæ¥å‘€ï¼Œäº’ç›¸ä¼¤å®³å“ˆ o(âˆ©\_âˆ©)o å“ˆå“ˆ  

* å‚è€ƒèµ„æ–™  

  * [Yapiå®˜ç½‘](http://hellosean1025.github.io/yapi/devops/index.html#%e5%ae%89%e8%a3%85)  

  * [ä»é›¶å¼€å§‹æ­å»ºYapiç¯å¢ƒ](http://www.jianshu.com/p/5bda5556c149)  

  * [æŸ¥çœ‹Linuxå†…æ ¸ç‰ˆæœ¬çš„å‘½ä»¤](http://blog.csdn.net/earlyup/article/details/2784707)  

  * [æŸ¥è¯¢mongodbçš„æ•°æ®åº“å­˜æ”¾è·¯å¾„](http://blog.csdn.net/heiyouhei123/article/details/82660102)  

  * [mongodbå¯åŠ¨æŠ¥é”™å¦‚ä½•å¤„ç†](http://www.cnblogs.com/zmoumou/p/10303792.html)
